import{createComponent,renderTemplate,maybeRenderHead,unescapeHTML}from"../../../astro.mjs";import"kleur/colors";import"clsx";import"html-escaper";import"cssesc";const html='<h1 id="js-interview">JS Interview<a class="anchor" href="#js-interview"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h1>\n<h3 id="js-有哪些内置对象">JS 有哪些内置对象？<a class="anchor" href="#js-有哪些内置对象"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="什么是闭包">什么是闭包<a class="anchor" href="#什么是闭包"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="let-const-var-比较">let const var 比较<a class="anchor" href="#let-const-var-比较"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="谈谈你对变量提升的理解">谈谈你对变量提升的理解<a class="anchor" href="#谈谈你对变量提升的理解"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="如何理解作用域作用域链和执行上下文">如何理解作用域、作用域链和执行上下文？<a class="anchor" href="#如何理解作用域作用域链和执行上下文"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="如何创建一个没有原型的对象">如何创建一个没有原型的对象？<a class="anchor" href="#如何创建一个没有原型的对象"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="如何理解原型链">如何理解原型链？<a class="anchor" href="#如何理解原型链"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="jsonstringify-有什么缺点">JSON.stringify 有什么缺点？<a class="anchor" href="#jsonstringify-有什么缺点"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="forin-和-forof-的区别">for…in 和 for…of 的区别?<a class="anchor" href="#forin-和-forof-的区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="new-操作符都做了什么">new 操作符都做了什么<a class="anchor" href="#new-操作符都做了什么"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="类数组和数组的区别dom-的类数组如何转换成数组">类数组和数组的区别，dom 的类数组如何转换成数组<a class="anchor" href="#类数组和数组的区别dom-的类数组如何转换成数组"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="offsetwidthoffsetheightclientwidthclientheight-与-scrollwidthscrollheight-的区别">offsetWidth/offsetHeight，clientWidth/clientHeight 与 scrollWidth/scrollHeight 的区别<a class="anchor" href="#offsetwidthoffsetheightclientwidthclientheight-与-scrollwidthscrollheight-的区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="mouseovermouseout-与-mouseentermouseleave-的区别与联系">mouseover/mouseout 与 mouseenter/mouseleave 的区别与联系<a class="anchor" href="#mouseovermouseout-与-mouseentermouseleave-的区别与联系"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="eventstoppropagation与-eventstopimmediatepropagation-的区别">event.stopPropagation()与 event.stopImmediatePropagation 的区别<a class="anchor" href="#eventstoppropagation与-eventstopimmediatepropagation-的区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="esm-和-commonjs-的区别">esm 和 commonjs 的区别<a class="anchor" href="#esm-和-commonjs-的区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="谈谈你对-v8-垃圾回收的理解">谈谈你对 V8 垃圾回收的理解？<a class="anchor" href="#谈谈你对-v8-垃圾回收的理解"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="如何优化和减少垃圾回收的影响从而提高应用性能">如何优化和减少垃圾回收的影响，从而提高应用性能？<a class="anchor" href="#如何优化和减少垃圾回收的影响从而提高应用性能"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="说一下事件循环机制-event-loop">说一下事件循环机制 Event Loop<a class="anchor" href="#说一下事件循环机制-event-loop"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="解释下-javascript-栈内存和堆内存">解释下 JavaScript 栈内存和堆内存？<a class="anchor" href="#解释下-javascript-栈内存和堆内存"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="箭头函数与普通函数区别">箭头函数与普通函数区别？<a class="anchor" href="#箭头函数与普通函数区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="箭头函数的-this-是声明时确定还是调用时确定">箭头函数的 this 是声明时确定还是调用时确定？<a class="anchor" href="#箭头函数的-this-是声明时确定还是调用时确定"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="isnan-与-numberisnan-的区别">isNaN 与 Number.isNaN 的区别<a class="anchor" href="#isnan-与-numberisnan-的区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="谈谈你对-this-的理解">谈谈你对 this 的理解<a class="anchor" href="#谈谈你对-this-的理解"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="谈谈你对严格模式的理解">谈谈你对严格模式的理解<a class="anchor" href="#谈谈你对严格模式的理解"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="谈谈你对-promise-的理解">谈谈你对 Promise 的理解<a class="anchor" href="#谈谈你对-promise-的理解"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="为什么-0102-不等于-03">为什么 0.1+0.2 不等于 0.3<a class="anchor" href="#为什么-0102-不等于-03"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="map-与-weakmap-的区别">Map 与 WeakMap 的区别<a class="anchor" href="#map-与-weakmap-的区别"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="谈谈你对词法作用域的理解">谈谈你对词法作用域的理解<a class="anchor" href="#谈谈你对词法作用域的理解"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="es6-有哪些新特性">es6 有哪些新特性？<a class="anchor" href="#es6-有哪些新特性"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="async-await-是什么它有哪些作用">async await 是什么？它有哪些作用？<a class="anchor" href="#async-await-是什么它有哪些作用"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="常用的数组方法有哪些">常用的数组方法有哪些？<a class="anchor" href="#常用的数组方法有哪些"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="数组有哪几种循环方式分别有什么作用">数组有哪几种循环方式？分别有什么作用？<a class="anchor" href="#数组有哪几种循环方式分别有什么作用"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="常用的字符串方法有哪些">常用的字符串方法有哪些？<a class="anchor" href="#常用的字符串方法有哪些"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="什么是闭包手写一个闭包函数-闭包有哪些优缺点">什么是闭包？手写一个闭包函数？ 闭包有哪些优缺点？<a class="anchor" href="#什么是闭包手写一个闭包函数-闭包有哪些优缺点"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="常见的继承有哪些">常见的继承有哪些？<a class="anchor" href="#常见的继承有哪些"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="什么是递归递归有哪些优点或缺点">什么是递归，递归有哪些优点或缺点？<a class="anchor" href="#什么是递归递归有哪些优点或缺点"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="什么是深拷贝什么是浅拷贝">什么是深拷贝、什么是浅拷贝？<a class="anchor" href="#什么是深拷贝什么是浅拷贝"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="请写至少三种数组去重的方法原生-js">请写至少三种数组去重的方法？（原生 js）<a class="anchor" href="#请写至少三种数组去重的方法原生-js"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span>//利用filter</span></span>\n<span class="line"><span>function unique(arr) {</span></span>\n<span class="line"><span>  return arr.filter(function (item, index, arr) {</span></span>\n<span class="line"><span>    //当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素</span></span>\n<span class="line"><span>    return arr.indexOf(item, 0) === index</span></span>\n<span class="line"><span>  })</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>var arr = [</span></span>\n<span class="line"><span>  1,</span></span>\n<span class="line"><span>  1,</span></span>\n<span class="line"><span>  \'true\',</span></span>\n<span class="line"><span>  \'true\',</span></span>\n<span class="line"><span>  true,</span></span>\n<span class="line"><span>  true,</span></span>\n<span class="line"><span>  15,</span></span>\n<span class="line"><span>  15,</span></span>\n<span class="line"><span>  false,</span></span>\n<span class="line"><span>  false,</span></span>\n<span class="line"><span>  undefined,</span></span>\n<span class="line"><span>  undefined,</span></span>\n<span class="line"><span>  null,</span></span>\n<span class="line"><span>  null,</span></span>\n<span class="line"><span>  NaN,</span></span>\n<span class="line"><span>  NaN,</span></span>\n<span class="line"><span>  \'NaN\',</span></span>\n<span class="line"><span>  0,</span></span>\n<span class="line"><span>  0,</span></span>\n<span class="line"><span>  \'a\',</span></span>\n<span class="line"><span>  \'a\',</span></span>\n<span class="line"><span>  {},</span></span>\n<span class="line"><span>  {}</span></span>\n<span class="line"><span>]</span></span>\n<span class="line"><span>console.log(unique(arr))</span></span>\n<span class="line"><span>//利用ES6 Set去重（ES6中最常用）</span></span>\n<span class="line"><span>function unique(arr) {</span></span>\n<span class="line"><span>  return Array.from(new Set(arr))</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>var arr = [</span></span>\n<span class="line"><span>  1,</span></span>\n<span class="line"><span>  1,</span></span>\n<span class="line"><span>  \'true\',</span></span>\n<span class="line"><span>  \'true\',</span></span>\n<span class="line"><span>  true,</span></span>\n<span class="line"><span>  true,</span></span>\n<span class="line"><span>  15,</span></span>\n<span class="line"><span>  15,</span></span>\n<span class="line"><span>  false,</span></span>\n<span class="line"><span>  false,</span></span>\n<span class="line"><span>  undefined,</span></span>\n<span class="line"><span>  undefined,</span></span>\n<span class="line"><span>  null,</span></span>\n<span class="line"><span>  null,</span></span>\n<span class="line"><span>  NaN,</span></span>\n<span class="line"><span>  NaN,</span></span>\n<span class="line"><span>  \'NaN\',</span></span>\n<span class="line"><span>  0,</span></span>\n<span class="line"><span>  0,</span></span>\n<span class="line"><span>  \'a\',</span></span>\n<span class="line"><span>  \'a\',</span></span>\n<span class="line"><span>  {},</span></span>\n<span class="line"><span>  {}</span></span>\n<span class="line"><span>]</span></span>\n<span class="line"><span>console.log(unique(arr))</span></span>\n<span class="line"><span>//[1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", {}, {}]</span></span>\n<span class="line"><span>//利用for嵌套for，然后splice去重（ES5中最常用）</span></span>\n<span class="line"><span>function unique(arr) {</span></span>\n<span class="line"><span>  for (var i = 0; i &#x3C; arr.length; i++) {</span></span>\n<span class="line"><span>    for (var j = i + 1; j &#x3C; arr.length; j++) {</span></span>\n<span class="line"><span>      if (arr[i] == arr[j]) {</span></span>\n<span class="line"><span>        //第一个等同于第二个，splice方法删除第二个</span></span>\n<span class="line"><span>        arr.splice(j, 1)</span></span>\n<span class="line"><span>        j--</span></span>\n<span class="line"><span>      }</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>  return arr</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>var arr = [</span></span>\n<span class="line"><span>  1,</span></span>\n<span class="line"><span>  1,</span></span>\n<span class="line"><span>  \'true\',</span></span>\n<span class="line"><span>  \'true\',</span></span>\n<span class="line"><span>  true,</span></span>\n<span class="line"><span>  true,</span></span>\n<span class="line"><span>  15,</span></span>\n<span class="line"><span>  15,</span></span>\n<span class="line"><span>  false,</span></span>\n<span class="line"><span>  false,</span></span>\n<span class="line"><span>  undefined,</span></span>\n<span class="line"><span>  undefined,</span></span>\n<span class="line"><span>  null,</span></span>\n<span class="line"><span>  null,</span></span>\n<span class="line"><span>  NaN,</span></span>\n<span class="line"><span>  NaN,</span></span>\n<span class="line"><span>  \'NaN\',</span></span>\n<span class="line"><span>  0,</span></span>\n<span class="line"><span>  0,</span></span>\n<span class="line"><span>  \'a\',</span></span>\n<span class="line"><span>  \'a\',</span></span>\n<span class="line"><span>  {},</span></span>\n<span class="line"><span>  {}</span></span>\n<span class="line"><span>]</span></span>\n<span class="line"><span>console.log(unique(arr))</span></span>\n<span class="line"><span>//[1, "true", 15, false, undefined, NaN, NaN, "NaN", "a", {…}, {…}]</span></span>\n<span class="line"><span>//NaN和{}没有去重，两个null直接消失了</span></span>\n<span class="line"><span></span></span></code></pre>\n<h3 id="26请写出至少两种常见的数组排序的方法原生-js">26、请写出至少两种常见的数组排序的方法（原生 js）<a class="anchor" href="#26请写出至少两种常见的数组排序的方法原生-js"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span>//快速排序</span></span>\n<span class="line"><span>function quickSort(elements) {</span></span>\n<span class="line"><span>  if (elements.length &#x3C;= 1) {</span></span>\n<span class="line"><span>    return elements</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>  var pivotIndex = Math.floor(elements.length / 2)</span></span>\n<span class="line"><span>  var pivot = elements.splice(pivotIndex, 1)[0]</span></span>\n<span class="line"><span>  var left = []</span></span>\n<span class="line"><span>  var right = []</span></span>\n<span class="line"><span>  for (var i = 0; i &#x3C; elements.length; i++) {</span></span>\n<span class="line"><span>    if (elements[i] &#x3C; pivot) {</span></span>\n<span class="line"><span>      left.push(elements[i])</span></span>\n<span class="line"><span>    } else {</span></span>\n<span class="line"><span>      right.push(elements[i])</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>  return quickSort(left).concat([pivot], quickSort(right))</span></span>\n<span class="line"><span>  //concat()方法用于连接两个或者多个数组；该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>var elements = [3, 5, 6, 8, 2, 4, 7, 9, 1, 10]</span></span>\n<span class="line"><span>document.write(quickSort(elements))</span></span>\n<span class="line"><span>//插入排序</span></span>\n<span class="line"><span>function sort(elements) {</span></span>\n<span class="line"><span>  // 假设第0个元素是一个有序数列，第1个以后的是无序数列，</span></span>\n<span class="line"><span>  // 所以从第1个元素开始将无序数列的元素插入到有序数列中去</span></span>\n<span class="line"><span>  for (var i = 1; i &#x3C;= elements.length; i++) {</span></span>\n<span class="line"><span>    // 升序</span></span>\n<span class="line"><span>    if (elements[i] &#x3C; elements[i - 1]) {</span></span>\n<span class="line"><span>      // 取出无序数列中的第i个作为被插入元素</span></span>\n<span class="line"><span>      var guard = elements[i]</span></span>\n<span class="line"><span>      //记住有序数列的最后一个位置，并且将有序数列的位置扩大一个</span></span>\n<span class="line"><span>      var j = i - 1</span></span>\n<span class="line"><span>      elements[i] = elements[j]</span></span>\n<span class="line"><span>      // 比大小;找到被插入元素所在位置</span></span>\n<span class="line"><span>      while (j >= 0 &#x26;&#x26; guard &#x3C; elements[j]) {</span></span>\n<span class="line"><span>        elements[j + 1] = elements[j]</span></span>\n<span class="line"><span>        j--</span></span>\n<span class="line"><span>      }</span></span>\n<span class="line"><span>      elements[j + 1] = guard //插入</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>var elements = [3, 5, 6, 8, 2, 4, 7, 9, 1, 10]</span></span>\n<span class="line"><span>document.write(\'没调用之前：\' + elements)</span></span>\n<span class="line"><span>document.write(\'&#x3C;br>\')</span></span>\n<span class="line"><span>sort(elements)</span></span>\n<span class="line"><span>document.write(\'被调用之后：\' + elements)</span></span>\n<span class="line"><span>//冒泡排序</span></span>\n<span class="line"><span>function sort(elements) {</span></span>\n<span class="line"><span>  for (var i = 0; i &#x3C; elements.length - 1; i++) {</span></span>\n<span class="line"><span>    for (var j = 0; j &#x3C; elements.length - 1 - i; j++) {</span></span>\n<span class="line"><span>      if (elements[j] > elements[j + 1]) {</span></span>\n<span class="line"><span>        var swap = elements[j]</span></span>\n<span class="line"><span>        elements[j] = elements[j + 1]</span></span>\n<span class="line"><span>        elements[j + 1] = swap</span></span>\n<span class="line"><span>      }</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>var elements = [3, 5, 6, 8, 2, 4, 7, 9, 1, 10]</span></span>\n<span class="line"><span>console.log(\'before\' + elements)</span></span>\n<span class="line"><span>sort(elements)</span></span>\n<span class="line"><span>console.log(\'after\' + elements)</span></span>\n<span class="line"><span></span></span></code></pre>\n<h3 id="27知道-lodash-吗它有哪些常见的-api-">27、知道 lodash 吗？它有哪些常见的 API ？<a class="anchor" href="#27知道-lodash-吗它有哪些常见的-api-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>Lodash 是一个一致性、模块化、高性能的 JavaScript 实用工具库。 <code>_.cloneDeep</code> 深度拷贝 <code>_.reject</code> 根据条件去除某个元素。 <code>_.drop(array, [n=1] )</code> 作用：将 array 中的前 n 个元素去掉，然后返回剩余的部分.</p>\n<h3 id="30谈谈-set--map-是什么">30、谈谈 set 、 map 是什么？<a class="anchor" href="#30谈谈-set--map-是什么"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>set 是 es6 提供的一种新的数据结构，它类似于数组，但是成员的值都是唯一的。<br>\nmap 是 es6 提供的一种新的数据结构,它类似于对象，也是键值对的集合，但是键的范围不仅限于字符 串，各种类型的值都可以当做键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供 了“值—值”的对应，是一种更完善的 Hash 结构实现。如果你需要“键值对”的数据结构，Map 比 Object 更合适。</p>\n<h3 id="33图片懒加载是怎么实现的">33、图片懒加载是怎么实现的？<a class="anchor" href="#33图片懒加载是怎么实现的"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>就是我们先设置图片的 data-set 属性（当然也可以是其他任意的，只要不会发送 http 请求就行了，作用 就是为了存取值）值为其图片路径，由于不是 src，所以不会发送 http 请求。<br>\n然后我们计算出页面 scrollTop 的高度和浏览器的高度之和， 如果图片距离页面顶端的坐标 Y（相对于整个页面，而不是浏览 器窗口）小于前两者之和，就说明图片就要显示出来了（合适的时机，当然也可以是其他情况），<br>\n这时 候我们再将 data-set 属性替换为 src 属性即可。</p>\n<h3 id="37数据类型的判断有哪些方法他们的优缺点及区别是什么">37、数据类型的判断有哪些方法？他们的优缺点及区别是什么？<a class="anchor" href="#37数据类型的判断有哪些方法他们的优缺点及区别是什么"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<h3 id="38知道-symbol-吗">38、知道 symbol 吗？<a class="anchor" href="#38知道-symbol-吗"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>ES6 引入新的原始数据类型 Symbol，表示独一无二的值</p>\n<h3 id="39请描述一下-es6-中的-class-类">39、请描述一下 ES6 中的 class 类?<a class="anchor" href="#39请描述一下-es6-中的-class-类"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>es6 中的 class 可以把它看成是 es5 中构造函数的语法糖，它简化了构造函数的写法， 类的共有属性放到 constructor 里面<br>\n通过 class 关键字创建类, 类名我们还是习惯性定义首字母大写<br>\n类里面有个 constructor 函数,可以接受传递过来的参数,同时返回实例对象<br>\nconstructor 函数 只要 new 生成实例时,就会自动调用这个函数, 如果我们不写这个函数,类也会自 动生成这个函数<br>\n多个函数方法之间不需要添加逗号分隔<br>\n生成实例 new 不能省略<br>\n语法规范, 创建类 类名后面不要加小括号,生成实例 类名后面加小括号, 构造函数不需要加 function<br>\n继承中,如果实例化子类输出一个方法,先看子类有没有这个方法,如果有就先执行子类的<br>\n继承中,如果子类里面没有,就去查找父类有没有这个方法,如果有,就执行父类的这个方法(就近 原则)<br>\n如果子类想要继承父类的方法,同时在自己内部扩展自己的方法,利用 super 调用 父类的构造函 数,super 必须在子类 this 之前调用<br>\n时刻注意 this 的指向问题,类里面的共有的属性和方法一定要加 this 使用.<br>\nconstructor 中的 this 指向的是 new 出来的实例对象<br>\n自定义的方法,一般也指向的 new 出来的实例对象<br>\n绑定事件之后 this 指向的就是触发事件的事件源<br>\n在 ES6 中类没有变量提升，所以必须先定义类，才能通过类实例化对象</p>\n<h3 id="41promise-是什么它有哪些作用">41、promise 是什么？它有哪些作用？<a class="anchor" href="#41promise-是什么它有哪些作用"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>Promise 是异步编程的一种解决方案.简单说就是一个容器，里面保存着某个未来才会结束的事件 （通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，可以从改对象获取异步操 作的消息。 它可以解决回调地狱的问题，也就是异步深层嵌套问题 .catch() 获取异常信息 .finally() 成功与否都会执行（不是正式标准）</p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span>/*</span></span>\n<span class="line"><span>1. Promise基本使用</span></span>\n<span class="line"><span>我们使用new来构建一个Promise Promise的构造函数接收一个参数，是函数，并</span></span>\n<span class="line"><span>且传入两个参数： resolve，reject， 分别表示异步操作执行成功后的回调函数</span></span>\n<span class="line"><span>和异步操作执行失败后的回调函数</span></span>\n<span class="line"><span>*/</span></span>\n<span class="line"><span>var p = new Promise(function (resolve, reject) {</span></span>\n<span class="line"><span>  //2. 这里用于实现异步任务 setTimeout</span></span>\n<span class="line"><span>  setTimeout(function () {</span></span>\n<span class="line"><span>    var flag = false</span></span>\n<span class="line"><span>    if (flag) {</span></span>\n<span class="line"><span>      //3. 正常情况</span></span>\n<span class="line"><span>      resolve(\'hello\')</span></span>\n<span class="line"><span>    } else {</span></span>\n<span class="line"><span>      //4. 异常情况</span></span>\n<span class="line"><span>      reject(\'出错了\')</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>  }, 100)</span></span>\n<span class="line"><span>})</span></span>\n<span class="line"><span>// 5 Promise实例生成以后，可以用then方法指定resolved状态和reject状态的回调函</span></span>\n<span class="line"><span>数</span></span>\n<span class="line"><span>// 在then方法中，你也可以直接return数据而不是Promise对象，在后面的then中就可以</span></span>\n<span class="line"><span>接收到数据了</span></span>\n<span class="line"><span>p.then(</span></span>\n<span class="line"><span>  function (data) {</span></span>\n<span class="line"><span>    console.log(data)</span></span>\n<span class="line"><span>  },</span></span>\n<span class="line"><span>  function (info) {</span></span>\n<span class="line"><span>    console.log(info)</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>)</span></span>\n<span class="line"><span></span></span></code></pre>\n<h3 id="43箭头函数有哪些特征请简单描述一下它">43、箭头函数有哪些特征，请简单描述一下它？<a class="anchor" href="#43箭头函数有哪些特征请简单描述一下它"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>箭头函数没有自己的 this，this 指向定义箭头函数时所处的外部执行环境的 this<br>\n即使调用call/apply/bind也无法改变箭头函数的 this 箭头函数本身没有名字 箭头函数不能 new，会报错<br>\n箭头函数没有 arguments，在箭头函数内访问这个变量访问的是外部执行环境的 arguments<br>\n箭头函数没有 prototype</p>\n<h3 id="50js-的数据类型有哪些">50、js 的数据类型有哪些？<a class="anchor" href="#50js-的数据类型有哪些"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>js 的数据类型分为基本数据类型（string、number、boolean、null、undefined、symbol）和复杂数据类型<br>\n基本数据类型的特点：直接存储在栈中的数据<br>\n复杂数据类型的特点：存储的是该对象在栈中引用，真实的数据存放在堆内存里</p>\n<h3 id="55callapplybind-三者的异同">55、call、apply、bind 三者的异同<a class="anchor" href="#55callapplybind-三者的异同"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>共同点 : 都可以改变 this 指向;<br>\n不同点: call 和 apply 会调用函数, 并且改变函数内部 this 指向. call 和 apply传递的参数不一样,call 传递参数使用逗号隔开,apply 使用数组传递 bind 不会调用函数, 可以改变函 数内部 this 指向. 应用场景<br>\ncall 经常做继承.<br>\napply 经常跟数组有关系. 比如借助于数学对象实现数组最大值最小值<br>\nbind 不调用函数,但是还想改变 this 指向. 比如改变定时器内部的 this 指向</p>\n<h3 id="18简述对前端模块化的认识">18.简述对前端模块化的认识？<a class="anchor" href="#18简述对前端模块化的认识"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>块化的概念<br>\n模块化是一种处理复杂系统分解成为更好的可管理模块的方式，它可以把系统代码划分为一系列职责单一，高度解耦且可替换的模块，系统中某一部分的变化将如何影响其它部分就会变得显而易见，系统的可维护性更加简单易得。<br>\n模块化是一种分治的思想，通过分解复杂系统为独立的模块实现细粒度的精细控制，对于复杂系统的维护和管理十分有益。模块化也是组件化的基石，是构成现在色彩斑斓的前端世界的前提条件。<br>\n为什么需要模块化<br>\n前端开发和其他开发工作的主要区别，首先是前端是基于多语言、多层次的编码和组织工作，其次前端产品的交付是基于浏览器，这些资源是通过增量加载的方式运行到浏览器端，如何在开发环境组织好这些碎片化的代码和资源，并且保证他们在浏览器端快速、优雅的加载和更新，就需要一个模块化系统。<br>\n模块化的好处<br>\n可维护性。 因为模块是独立的，一个设计良好的模块会让外面的代码对自己的依赖越少越好，这样自己就可以独立去更新和改进。<br>\n命名空间。 在 JavaScript 里面，如果一个变量在最顶级的函数之外声明，它就直接变成全局可用。因此，常常不小心出现命名冲突的情况。使用模块化开发来封装变量，可以避免污染全局环境。<br>\n重用代码。 我们有时候会喜欢从之前写过的项目中拷贝代码到新的项目，这没有问题，但是更好的方法是，通过模块引用的方式，来避免重复的代码库。我们可以在更新了模块之后，让引用了该模块的所有项目都同步更新，还能指定版本号，避免 API 变更带来的麻烦。</p>\n<h3 id="28简述异步加载和延迟加载">28.简述异步加载和延迟加载<a class="anchor" href="#28简述异步加载和延迟加载"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>1.异步加载的方案： 动态插入script标签<br>\n2.通过ajax去获取js代码，然后通过eval执行<br>\n3.script标签上添加defer或者async属性<br>\n4.创建并插入iframe，让它异步执行js<br>\n5.延迟加载：有些 js 代码并不是页面初始化的时候就立刻需要的，而稍后的某些情况才需要的。</p>\n<h3 id="29简述promise的构造函数">29.简述Promise的构造函数<a class="anchor" href="#29简述promise的构造函数"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>构造一个 Promise，最基本的用法如下：</p>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span>var promise = new Promise(function(resolve, reject) {</span></span>\n<span class="line"><span>  if (...) { // succeed</span></span>\n<span class="line"><span>    \tresolve(result);</span></span>\n<span class="line"><span>    } else { // fails</span></span>\n<span class="line"><span>    \treject(Error(errMessage));</span></span>\n<span class="line"><span>  }</span></span>\n<span class="line"><span>});</span></span>\n<span class="line"><span></span></span></code></pre>\n<p>Promise 实例拥有 then 方法（具有 then 方法的对象，通常被称为 thenable）。它的使用方法如下：<br>\npromise.then(onFulfilled, onRejected)<br>\n接收两个函数作为参数，一个在 fulfilled 的时候被调用，一个在 rejected 的时候被调用，接收参数就是 future，onFulfilled对应 resolve, onRejected 对应 reject。</p>\n<h3 id="30简述严格模式的限制">30.简述严格模式的限制<a class="anchor" href="#30简述严格模式的限制"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>严格模式主要有以下限制：<br>\n变量必须声明后再使用<br>\n函数的参数不能有同名属性，否则报错<br>\n不能使用with语句<br>\n不能对只读属性赋值，否则报错<br>\n不能使用前缀0表示八进制数，否则报错<br>\n不能删除不可删除的属性，否则报错<br>\n不能删除变量delete prop，会报错，只能删除属性delete global[prop]<br>\neval不会在它的外层作用域引入变量<br>\neval和arguments不能被重新赋值<br>\narguments不会自动反映函数参数的变化<br>\n不能使用arguments.callee<br>\n不能使用arguments.caller<br>\n禁止this指向全局对象<br>\n不能使用fn.caller和fn.arguments获取函数调用的堆栈<br>\n增加了保留字（比如protected、static和interface）<br>\n设立”严格模式”的目的，主要有以下几个：<br>\n消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;<br>\n消除代码运行的一些不安全之处，保证代码运行的安全；<br>\n提高编译器效率，增加运行速度；<br>\n为未来新版本的Javascript做好铺垫。<br>\n注：经过测试IE6,7,8,9均不支持严格模式。</p>\n<h1 id="front-end-interview">Front-end Interview<a class="anchor" href="#front-end-interview"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h1>\n<h3 id="用-settimeout-实现-setinterval">用 setTimeout 实现 setInterval<a class="anchor" href="#用-settimeout-实现-setinterval"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> customSetInterval</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">callback</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">delay</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tlet</span><span style="color:#E1E4E8"> timer;</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#B392F0"> interval</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#B392F0">\t\tcallback</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\ttimer </span><span style="color:#F97583">=</span><span style="color:#B392F0"> setTimeout</span><span style="color:#E1E4E8">(interval, delay);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">\ttimer </span><span style="color:#F97583">=</span><span style="color:#B392F0"> setTimeout</span><span style="color:#E1E4E8">(interval, delay);</span></span>\n<span class="line"><span style="color:#6A737D">\t// 返回清除定时器的函数</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#B392F0">\t\tclearTimeout</span><span style="color:#E1E4E8">(timer);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> callback</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Hello, world!"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> delay</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 1000</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 每隔1000毫秒执行一次</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> clearIntervalFunc</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> customSetInterval</span><span style="color:#E1E4E8">(callback, delay);</span></span>\n<span class="line"><span style="color:#6A737D">// 用法：在需要的时候清除定时器</span></span>\n<span class="line"><span style="color:#6A737D">// clearIntervalFunc();</span></span>\n<span class="line"></span></code></pre>\n<h3 id="var-实现-let">var 实现 let<a class="anchor" href="#var-实现-let"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> demo</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t(</span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#F97583">\t\tvar</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "Hello, world!"</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(x); </span><span style="color:#6A737D">// 输出 "Hello, world!"</span></span>\n<span class="line"><span style="color:#E1E4E8">\t})();</span></span>\n<span class="line"><span style="color:#F97583">\ttry</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(x); </span><span style="color:#6A737D">// 抛出 ReferenceError，因为x在这个作用域内未定义</span></span>\n<span class="line"><span style="color:#E1E4E8">\t} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(error); </span><span style="color:#6A737D">// 输出错误信息</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#B392F0">demo</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"></span></code></pre>\n<h3 id="实现所有的-typescript-utility-types">实现所有的 TypeScript Utility Types<a class="anchor" href="#实现所有的-typescript-utility-types"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 1. Partial&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Partial</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> { [</span><span style="color:#B392F0">P</span><span style="color:#F97583"> in</span><span style="color:#F97583"> keyof</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">?:</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">[</span><span style="color:#B392F0">P</span><span style="color:#E1E4E8">] };</span></span>\n<span class="line"><span style="color:#6A737D">// 2. Required&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Required</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> { [</span><span style="color:#B392F0">P</span><span style="color:#F97583"> in</span><span style="color:#F97583"> keyof</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">-?:</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">[</span><span style="color:#B392F0">P</span><span style="color:#E1E4E8">] };</span></span>\n<span class="line"><span style="color:#6A737D">// 3. Readonly&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Readonly</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> { </span><span style="color:#F97583">readonly</span><span style="color:#E1E4E8"> [</span><span style="color:#B392F0">P</span><span style="color:#F97583"> in</span><span style="color:#F97583"> keyof</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">[</span><span style="color:#B392F0">P</span><span style="color:#E1E4E8">] };</span></span>\n<span class="line"><span style="color:#6A737D">// 4. Pick&#x3C;T, K></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Pick</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">K</span><span style="color:#F97583"> extends</span><span style="color:#F97583"> keyof</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> { [</span><span style="color:#B392F0">P</span><span style="color:#F97583"> in</span><span style="color:#B392F0"> K</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">[</span><span style="color:#B392F0">P</span><span style="color:#E1E4E8">] };</span></span>\n<span class="line"><span style="color:#6A737D">// 5. Omit&#x3C;T, K></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Omit</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">K</span><span style="color:#F97583"> extends</span><span style="color:#F97583"> keyof</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Pick</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Exclude</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">keyof</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">K</span><span style="color:#E1E4E8">>>;</span></span>\n<span class="line"><span style="color:#6A737D">// 6. Exclude&#x3C;T, U></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Exclude</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">U</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> U</span><span style="color:#F97583"> ?</span><span style="color:#79B8FF"> never</span><span style="color:#F97583"> :</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">// 7. Extract&#x3C;T, U></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Extract</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">U</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> U</span><span style="color:#F97583"> ?</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> :</span><span style="color:#79B8FF"> never</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">// 8. NonNullable&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> NonNullable</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Exclude</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">null</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8">>;</span></span>\n<span class="line"><span style="color:#6A737D">// 9. ReturnType&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> ReturnType</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#F97583"> extends</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> extends</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#F97583">\t...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span></span>\n<span class="line"><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#F97583"> infer</span><span style="color:#B392F0"> R</span></span>\n<span class="line"><span style="color:#F97583">\t?</span><span style="color:#B392F0"> R</span></span>\n<span class="line"><span style="color:#F97583">\t:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">// 10. InstanceType&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> InstanceType</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#F97583"> extends</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> extends</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#F97583">\t...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span></span>\n<span class="line"><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#F97583"> infer</span><span style="color:#B392F0"> R</span></span>\n<span class="line"><span style="color:#F97583">\t?</span><span style="color:#B392F0"> R</span></span>\n<span class="line"><span style="color:#F97583">\t:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">// 11. ThisParameterType&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> ThisParameterType</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> extends</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#F97583">:</span><span style="color:#F97583"> infer</span><span style="color:#B392F0"> U</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span></span>\n<span class="line"><span style="color:#F97583">\t?</span><span style="color:#B392F0"> U</span></span>\n<span class="line"><span style="color:#F97583">\t:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">// 12. OmitThisParameter&#x3C;T></span></span>\n<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> OmitThisParameter</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#B392F0"> T</span><span style="color:#F97583"> extends</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#F97583"> infer</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#F97583"> infer</span><span style="color:#B392F0"> R</span></span>\n<span class="line"><span style="color:#F97583">\t?</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> R</span></span>\n<span class="line"><span style="color:#F97583">\t:</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">// 13. ThisType&#x3C;T></span></span>\n<span class="line"><span style="color:#6A737D">// `ThisType` is a marker utility type and can\'t be implemented like other utility types.</span></span>\n<span class="line"></span></code></pre>\n<h3 id="防抖-debounce">防抖 debounce<a class="anchor" href="#防抖-debounce"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> debounce</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#B392F0">\tfunc</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#FFAB70">\twait</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span></span>\n<span class="line"><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tlet</span><span style="color:#E1E4E8"> timeout</span><span style="color:#F97583">:</span><span style="color:#B392F0"> ReturnType</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> setTimeout> </span><span style="color:#F97583">|</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (timeout) {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\tclearTimeout</span><span style="color:#E1E4E8">(timeout);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\ttimeout </span><span style="color:#F97583">=</span><span style="color:#B392F0"> setTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tfunc.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}, wait);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"></span></code></pre>\n<h3 id="节流-throttle">节流 throttle<a class="anchor" href="#节流-throttle"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> throttle</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#B392F0">\tfunc</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#FFAB70">\tlimit</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span></span>\n<span class="line"><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tlet</span><span style="color:#E1E4E8"> lastCall </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 记录上次调用的时间戳</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> now</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Date.</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// 获取当前时间戳</span></span>\n<span class="line"><span style="color:#6A737D">\t\t// 如果当前时间与上次调用的时间差大于等于设定的限制时间，执行函数并更新上次调用时间</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (now </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> lastCall </span><span style="color:#F97583">>=</span><span style="color:#E1E4E8"> limit) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tfunc.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tlastCall </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> now;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"></span></code></pre>\n<h3 id="new">New<a class="anchor" href="#new"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> customNew</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">constructorFn</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Function</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[])</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> object</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">create</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">constructorFn</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 创建一个新对象，并将其原型链设置为构造函数的prototype</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> constructorFn.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(obj, args); </span><span style="color:#6A737D">// 调用构造函数并将this绑定到新创建的对象</span></span>\n<span class="line"><span style="color:#6A737D">\t// 如果构造函数返回了一个对象，那么返回这个对象，否则返回创建的新对象</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#F97583"> typeof</span><span style="color:#E1E4E8"> result </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "object"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> result </span><span style="color:#F97583">!==</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> ?</span><span style="color:#E1E4E8"> result </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> obj;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">age</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#79B8FF">\tthis</span><span style="color:#E1E4E8">.name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> name;</span></span>\n<span class="line"><span style="color:#79B8FF">\tthis</span><span style="color:#E1E4E8">.age </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> age;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> alice</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> customNew</span><span style="color:#E1E4E8">(Person, </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">as</span><span style="color:#B392F0"> Person</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(alice.name); </span><span style="color:#6A737D">// 输出 "Alice"</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(alice.age); </span><span style="color:#6A737D">// 输出 30</span></span>\n<span class="line"></span></code></pre>\n<h3 id="数组去重">数组去重<a class="anchor" href="#数组去重"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// First</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> uniqueArray</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">arr</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">...new</span><span style="color:#B392F0"> Set</span><span style="color:#E1E4E8">(arr)];</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// Second</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> uniqueArray</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">arr</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [];</span></span>\n<span class="line"><span style="color:#F97583">\tfor</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> item</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> arr) {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (result.</span><span style="color:#B392F0">indexOf</span><span style="color:#E1E4E8">(item) </span><span style="color:#F97583">===</span><span style="color:#F97583"> -</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tresult.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(item);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> result;</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// Third</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> uniqueArray</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">arr</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> arr.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">item</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">index</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> arr.</span><span style="color:#B392F0">indexOf</span><span style="color:#E1E4E8">(item) </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> index;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t});</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">uniqueArray</span><span style="color:#E1E4E8">([</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">])); </span><span style="color:#6A737D">// [1, 2, 3, 4, 5, 6]</span></span>\n<span class="line"></span></code></pre>\n<h3 id="实现正则切分千分位">实现正则切分千分位<a class="anchor" href="#实现正则切分千分位"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> formatThousands</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">n</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> reg</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> /</span><span style="color:#79B8FF">\\d</span><span style="color:#F97583">{1,3}</span><span style="color:#DBEDFF">(?=(</span><span style="color:#79B8FF">\\d</span><span style="color:#F97583">{3}</span><span style="color:#DBEDFF">)</span><span style="color:#F97583">+$</span><span style="color:#DBEDFF">)</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> num</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> n.</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> formattedNum</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> num.</span><span style="color:#B392F0">replace</span><span style="color:#E1E4E8">(reg, </span><span style="color:#9ECBFF">"$&#x26;,"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> formattedNum;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 测试</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">formatThousands</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">123456789</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// 输出: 123,456,789</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">formatThousands</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1000000</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// 输出: 1,000,000</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">formatThousands</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">9876543210</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// 输出: 9,876,543,210</span></span>\n<span class="line"></span></code></pre>\n<h3 id="call">call<a class="anchor" href="#call"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 实现自定义call方法</span></span>\n<span class="line"><span style="color:#79B8FF">Function</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">myCall</span><span style="color:#F97583"> =</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">thisArg</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[])</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> fn</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> uniqueKey</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Symbol</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"uniqueKey"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\tthisArg[uniqueKey] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> fn;</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> thisArg[uniqueKey](</span><span style="color:#F97583">...</span><span style="color:#E1E4E8">args);</span></span>\n<span class="line"><span style="color:#F97583">\tdelete</span><span style="color:#E1E4E8"> thisArg[uniqueKey];</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> result;</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tname: </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">greeting</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">punctuation</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`${</span><span style="color:#E1E4E8">greeting</span><span style="color:#9ECBFF">}, ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">name</span><span style="color:#9ECBFF">}${</span><span style="color:#E1E4E8">punctuation</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#E1E4E8">greet.</span><span style="color:#B392F0">myCall</span><span style="color:#E1E4E8">(obj, </span><span style="color:#9ECBFF">"Hello"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"!"</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 输出 "Hello, Alice!"</span></span>\n<span class="line"></span></code></pre>\n<h3 id="apply">apply<a class="anchor" href="#apply"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 实现自定义apply方法</span></span>\n<span class="line"><span style="color:#79B8FF">Function</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">myApply</span><span style="color:#F97583"> =</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">thisArg</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[])</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> fn</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> uniqueKey</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Symbol</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"uniqueKey"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\tthisArg[uniqueKey] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> fn;</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> thisArg[uniqueKey](</span><span style="color:#F97583">...</span><span style="color:#E1E4E8">args);</span></span>\n<span class="line"><span style="color:#F97583">\tdelete</span><span style="color:#E1E4E8"> thisArg[uniqueKey];</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> result;</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tname: </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">greeting</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">punctuation</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`${</span><span style="color:#E1E4E8">greeting</span><span style="color:#9ECBFF">}, ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">name</span><span style="color:#9ECBFF">}${</span><span style="color:#E1E4E8">punctuation</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#E1E4E8">greet.</span><span style="color:#B392F0">myApply</span><span style="color:#E1E4E8">(obj, [</span><span style="color:#9ECBFF">"Hi"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"!"</span><span style="color:#E1E4E8">]); </span><span style="color:#6A737D">// 输出 "Hi, Alice!"</span></span>\n<span class="line"></span></code></pre>\n<h3 id="bind">bind<a class="anchor" href="#bind"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 实现自定义bind方法</span></span>\n<span class="line"><span style="color:#79B8FF">Function</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">myBind</span><span style="color:#F97583"> =</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#FFAB70">\tthisArg</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#F97583">\t...</span><span style="color:#FFAB70">args1</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]</span></span>\n<span class="line"><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args2</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> fn</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args2</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> fn.</span><span style="color:#B392F0">myApply</span><span style="color:#E1E4E8">(thisArg, args1.</span><span style="color:#B392F0">concat</span><span style="color:#E1E4E8">(args2));</span></span>\n<span class="line"><span style="color:#E1E4E8">\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tname: </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> greet</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">greeting</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">punctuation</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`${</span><span style="color:#E1E4E8">greeting</span><span style="color:#9ECBFF">}, ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">name</span><span style="color:#9ECBFF">}${</span><span style="color:#E1E4E8">punctuation</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> boundGreet</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> greet.</span><span style="color:#B392F0">myBind</span><span style="color:#E1E4E8">(obj, </span><span style="color:#9ECBFF">"Hey"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#B392F0">boundGreet</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"?"</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 输出 "Hey, Alice?"</span></span>\n<span class="line"></span></code></pre>\n<h3 id="深拷贝">深拷贝<a class="anchor" href="#深拷贝"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> deepClone</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">obj</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">cache</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> WeakMap</span><span style="color:#E1E4E8">())</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (obj </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> ||</span><span style="color:#F97583"> typeof</span><span style="color:#E1E4E8"> obj </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> "object"</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> obj;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (cache.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(obj)) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> cache.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(obj);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (obj </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">(obj.</span><span style="color:#B392F0">getTime</span><span style="color:#E1E4E8">());</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (obj </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> Function</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tobj.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">, args);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (obj </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> RegExp</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> RegExp</span><span style="color:#E1E4E8">(obj);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (obj </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> Array</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> clonedArr</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tcache.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(obj, clonedArr);</span></span>\n<span class="line"><span style="color:#F97583">\t\tfor</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">let</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> obj.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">++</span><span style="color:#E1E4E8">i) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tclonedArr[i] </span><span style="color:#F97583">=</span><span style="color:#B392F0"> deepClone</span><span style="color:#E1E4E8">(obj[i], cache);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> clonedArr;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> clonedObj</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { [</span><span style="color:#FFAB70">key</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {};</span></span>\n<span class="line"><span style="color:#E1E4E8">\tcache.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(obj, clonedObj);</span></span>\n<span class="line"><span style="color:#F97583">\tfor</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> key</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> obj) {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">Object</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.hasOwnProperty.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(obj, key)) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tclonedObj[key] </span><span style="color:#F97583">=</span><span style="color:#B392F0"> deepClone</span><span style="color:#E1E4E8">(obj[key], cache);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> clonedObj;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> original</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { [</span><span style="color:#FFAB70">key</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tname: </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\tage: </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\tdateOfBirth: </span><span style="color:#F97583">new</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"1993-01-01"</span><span style="color:#E1E4E8">),</span></span>\n<span class="line"><span style="color:#E1E4E8">\tpreferences: {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tcolor: </span><span style="color:#9ECBFF">"blue"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tfood: </span><span style="color:#9ECBFF">"pizza"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#B392F0">\tsum</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.name </span><span style="color:#F97583">+</span><span style="color:#9ECBFF"> "-"</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.age);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#E1E4E8">original.original </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> original;</span></span>\n<span class="line"><span style="color:#E1E4E8">original.originalArr </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [original, original];</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> cloned</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> deepClone</span><span style="color:#E1E4E8">(original);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(cloned); </span><span style="color:#6A737D">// 输出与 original 相同但不是同一个引用的对象</span></span>\n<span class="line"></span></code></pre>\n<h3 id="柯里化">柯里化<a class="anchor" href="#柯里化"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> curry</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">fn</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> arity</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> fn.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 获取原函数的参数个数</span></span>\n<span class="line"><span style="color:#F97583">\tfunction</span><span style="color:#B392F0"> curried</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[])</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (args.</span><span style="color:#79B8FF">length</span><span style="color:#F97583"> >=</span><span style="color:#E1E4E8"> arity) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#E1E4E8"> fn.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">restArgs</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> curried.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args.</span><span style="color:#B392F0">concat</span><span style="color:#E1E4E8">(restArgs));</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> curried;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> add</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">a</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">c</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> b </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> c;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> curriedAdd</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> curry</span><span style="color:#E1E4E8">(add);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">curriedAdd</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">)(</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// 输出 6</span></span>\n<span class="line"></span></code></pre>\n<h3 id="es5-和-es6-继承">es5 和 es6 继承<a class="anchor" href="#es5-和-es6-继承"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// ES5继承（构造函数 + 原型链）</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> AnimalES5</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#79B8FF">\tthis</span><span style="color:#E1E4E8">.name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> name;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#79B8FF">AnimalES5</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">sayName</span><span style="color:#F97583"> =</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"My name is "</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.name);</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> DogES5</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">breed</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tAnimalES5.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">, name); </span><span style="color:#6A737D">// 调用父类构造函数</span></span>\n<span class="line"><span style="color:#79B8FF">\tthis</span><span style="color:#E1E4E8">.breed </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> breed;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#79B8FF">DogES5</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">create</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">AnimalES5</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 设置原型链</span></span>\n<span class="line"><span style="color:#79B8FF">DogES5</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">constructor</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> DogES5; </span><span style="color:#6A737D">// 修复构造函数</span></span>\n<span class="line"><span style="color:#79B8FF">DogES5</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">sayBreed</span><span style="color:#F97583"> =</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"My breed is "</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.breed);</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dogES5</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> DogES5</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Max"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"Golden Retriever"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">dogES5.</span><span style="color:#B392F0">sayName</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// 输出 "My name is Max"</span></span>\n<span class="line"><span style="color:#E1E4E8">dogES5.</span><span style="color:#B392F0">sayBreed</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// 输出 "My breed is Golden Retriever"</span></span>\n<span class="line"><span style="color:#6A737D">// ES6继承（使用class和extends关键字）</span></span>\n<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> AnimalES6</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#FFAB70">\tname</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\tconstructor</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> name;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#B392F0">\tsayName</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"My name is "</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.name);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> DogES6</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> AnimalES6</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#FFAB70">\tbreed</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\tconstructor</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">breed</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tsuper</span><span style="color:#E1E4E8">(name); </span><span style="color:#6A737D">// 调用父类构造函数</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.breed </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> breed;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#B392F0">\tsayBreed</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"My breed is "</span><span style="color:#F97583"> +</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.breed);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dogES6</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> DogES6</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Max"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"Golden Retriever"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">dogES6.</span><span style="color:#B392F0">sayName</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// 输出 "My name is Max"</span></span>\n<span class="line"><span style="color:#E1E4E8">dogES6.</span><span style="color:#B392F0">sayBreed</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// 输出 "My breed is Golden Retriever"</span></span>\n<span class="line"></span></code></pre>\n<h3 id="instanceof">instanceof<a class="anchor" href="#instanceof"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 自定义实现 instanceof</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> myInstanceOf</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">target</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">constructorFunc</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Function</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#6A737D">\t// 参数校验</span></span>\n<span class="line"><span style="color:#F97583">\tif</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#F97583">\t\ttypeof</span><span style="color:#E1E4E8"> target </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> "object"</span><span style="color:#F97583"> ||</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\ttarget </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> ||</span></span>\n<span class="line"><span style="color:#F97583">\t\ttypeof</span><span style="color:#E1E4E8"> constructorFunc </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> "function"</span></span>\n<span class="line"><span style="color:#E1E4E8">\t) {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#6A737D">\t// 获取目标对象的原型</span></span>\n<span class="line"><span style="color:#F97583">\tlet</span><span style="color:#E1E4E8"> targetProto </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">getPrototypeOf</span><span style="color:#E1E4E8">(target);</span></span>\n<span class="line"><span style="color:#6A737D">\t// 获取构造函数的原型</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> constructorProto</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> constructorFunc</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">\t// 遍历原型链，查找目标对象是否是构造函数的实例</span></span>\n<span class="line"><span style="color:#F97583">\twhile</span><span style="color:#E1E4E8"> (targetProto </span><span style="color:#F97583">!==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (targetProto </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> constructorProto) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\ttargetProto </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">getPrototypeOf</span><span style="color:#E1E4E8">(targetProto);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 测试用例</span></span>\n<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {}</span></span>\n<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Dog</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {}</span></span>\n<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Cat</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> Animal</span><span style="color:#E1E4E8"> {}</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dog</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Dog</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> cat</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Cat</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">myInstanceOf</span><span style="color:#E1E4E8">(dog, Dog)); </span><span style="color:#6A737D">// true</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">myInstanceOf</span><span style="color:#E1E4E8">(dog, Animal)); </span><span style="color:#6A737D">// true</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">myInstanceOf</span><span style="color:#E1E4E8">(cat, Dog)); </span><span style="color:#6A737D">// false</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">myInstanceOf</span><span style="color:#E1E4E8">(cat, Animal)); </span><span style="color:#6A737D">// true</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">myInstanceOf</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">123</span><span style="color:#E1E4E8">, Number)); </span><span style="color:#6A737D">// false</span></span>\n<span class="line"></span></code></pre>\n<h3 id="数组扁平化">数组扁平化<a class="anchor" href="#数组扁平化"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 自定义实现数组扁平化</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> flattenArray</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">arr</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[])</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[] {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>\n<span class="line"><span style="color:#6A737D">\t// 递归处理每个元素</span></span>\n<span class="line"><span style="color:#F97583">\tfunction</span><span style="color:#B392F0"> processItem</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">item</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#6A737D">\t\t// 如果元素是数组，则递归处理</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (Array.</span><span style="color:#B392F0">isArray</span><span style="color:#E1E4E8">(item)) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\titem.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(processItem);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t} </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#6A737D">\t\t\t// 如果元素不是数组，直接添加到结果数组中</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tresult.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(item);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\tarr.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(processItem);</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> result;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 测试用例</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> nestedArray</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">]]], </span><span style="color:#79B8FF">9</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">];</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">flattenArray</span><span style="color:#E1E4E8">(nestedArray)); </span><span style="color:#6A737D">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> nestedArray2</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">, [[</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">9</span><span style="color:#E1E4E8">, [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">]]]]];</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">flattenArray</span><span style="color:#E1E4E8">(nestedArray2)); </span><span style="color:#6A737D">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span>\n<span class="line"></span></code></pre>\n<h3 id="对象扁平化">对象扁平化<a class="anchor" href="#对象扁平化"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> flattenObject</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#FFAB70">\tobj</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { [</span><span style="color:#FFAB70">key</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> },</span></span>\n<span class="line"><span style="color:#FFAB70">\tprefix</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> ""</span></span>\n<span class="line"><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { [</span><span style="color:#FFAB70">key</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> } {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> flattened</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { [</span><span style="color:#FFAB70">key</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {};</span></span>\n<span class="line"><span style="color:#F97583">\tfor</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> key</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> obj) {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">Object</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">prototype</span><span style="color:#E1E4E8">.hasOwnProperty.</span><span style="color:#B392F0">call</span><span style="color:#E1E4E8">(obj, key)) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tconst</span><span style="color:#79B8FF"> newKey</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> prefix </span><span style="color:#F97583">?</span><span style="color:#9ECBFF"> `${</span><span style="color:#E1E4E8">prefix</span><span style="color:#9ECBFF">}.${</span><span style="color:#E1E4E8">key</span><span style="color:#9ECBFF">}`</span><span style="color:#F97583"> :</span><span style="color:#E1E4E8"> key;</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tif</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\ttypeof</span><span style="color:#E1E4E8"> obj[key] </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "object"</span><span style="color:#F97583"> &#x26;&#x26;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\tobj[key] </span><span style="color:#F97583">!==</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> &#x26;&#x26;</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t!</span><span style="color:#E1E4E8">Array.</span><span style="color:#B392F0">isArray</span><span style="color:#E1E4E8">(obj[key])</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\tObject.</span><span style="color:#B392F0">assign</span><span style="color:#E1E4E8">(flattened, </span><span style="color:#B392F0">flattenObject</span><span style="color:#E1E4E8">(obj[key], newKey));</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t} </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\tflattened[newKey] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> obj[key];</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> flattened;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> nestedObj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\ta: {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tb: {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tc: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\td: {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\te: </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tf: </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">\tg: {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\th: </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> flattenedObj</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> flattenObject</span><span style="color:#E1E4E8">(nestedObj);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(flattenedObj);</span></span>\n<span class="line"><span style="color:#6A737D">// 输出 { \'a.b.c\': 1, \'a.b.d.e\': 2, \'a.f\': 3, \'g.h\': 4 }</span></span>\n<span class="line"></span></code></pre>\n<h3 id="jsonparse">JSON.parse<a class="anchor" href="#jsonparse"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> myJSONParse</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">target</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#B392F0"> eval</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`(${</span><span style="color:#E1E4E8">target</span><span style="color:#9ECBFF">})`</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#6A737D">// 测试用例</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> jsonString</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> \'{"name": "John", "age": 30, "city": "New York"}\'</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> parsedObject</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> myJSONParse</span><span style="color:#E1E4E8">(jsonString);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(parsedObject); </span><span style="color:#6A737D">// { name: \'JOHN\', age: 30, city: \'NEW YORK\' }</span></span>\n<span class="line"></span></code></pre>\n<h3 id="eventemitter-事件触发器">EventEmitter 事件触发器<a class="anchor" href="#eventemitter-事件触发器"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> EventEmitter</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tprivate</span><span style="color:#FFAB70"> events</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Array</span><span style="color:#E1E4E8">&#x3C;(</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">>>;</span></span>\n<span class="line"><span style="color:#F97583">\tconstructor</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.events </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// 存储事件名和对应的回调函数列表</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#6A737D">\t// 添加事件监听</span></span>\n<span class="line"><span style="color:#B392F0">\ton</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">event</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">listener</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.events.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(event)) {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\tthis</span><span style="color:#E1E4E8">.events.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(event, []);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.events.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(event)</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(listener);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#6A737D">\t// 移除事件监听</span></span>\n<span class="line"><span style="color:#B392F0">\toff</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">event</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">listener</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> listeners</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.events.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(event);</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (listeners) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tconst</span><span style="color:#79B8FF"> index</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> listeners.</span><span style="color:#B392F0">indexOf</span><span style="color:#E1E4E8">(listener);</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tif</span><span style="color:#E1E4E8"> (index </span><span style="color:#F97583">!==</span><span style="color:#F97583"> -</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\tlisteners.</span><span style="color:#B392F0">splice</span><span style="color:#E1E4E8">(index, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#6A737D">\t// 触发事件</span></span>\n<span class="line"><span style="color:#B392F0">\temit</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">event</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[])</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> listeners</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.events.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(event);</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (listeners) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tlisteners.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">listener</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> listener.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args));</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#6A737D">\t// 添加只执行一次的事件监听</span></span>\n<span class="line"><span style="color:#B392F0">\tonce</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">event</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">listener</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#B392F0"> wrappedListener</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tlistener.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args);</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\tthis</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">off</span><span style="color:#E1E4E8">(event, wrappedListener);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t};</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">on</span><span style="color:#E1E4E8">(event, wrappedListener);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> eventEmitter</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> EventEmitter</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> hello</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Hello, ${</span><span style="color:#E1E4E8">name</span><span style="color:#9ECBFF">}!`</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">on</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"greet"</span><span style="color:#E1E4E8">, hello);</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"greet"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 输出 "Hello, Alice!"</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">off</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"greet"</span><span style="color:#E1E4E8">, hello);</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"greet"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"Bob"</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 不会输出，因为监听器已被移除</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">once</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"welcome"</span><span style="color:#E1E4E8">, hello);</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"welcome"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"Carol"</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 输出 "Hello, Carol!"</span></span>\n<span class="line"><span style="color:#E1E4E8">eventEmitter.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"welcome"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"David"</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 不会输出，因为监听器只执行一次</span></span>\n<span class="line"></span></code></pre>\n<h3 id="asyncawait">async/await<a class="anchor" href="#asyncawait"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> customAsync</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">generatorFn</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> Generator</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#F97583"> function</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) {</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> generator</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> generatorFn.</span><span style="color:#B392F0">apply</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">null</span><span style="color:#E1E4E8">, args);</span></span>\n<span class="line"><span style="color:#F97583">\t\tfunction</span><span style="color:#B392F0"> handle</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">result</span><span style="color:#F97583">:</span><span style="color:#B392F0"> IteratorResult</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">>)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tif</span><span style="color:#E1E4E8"> (result.done) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\treturn</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(result.value);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(result.value)</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t.</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> handle</span><span style="color:#E1E4E8">(generator.</span><span style="color:#B392F0">next</span><span style="color:#E1E4E8">(value)))</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t.</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">error</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> handle</span><span style="color:#E1E4E8">(generator.</span><span style="color:#B392F0">throw</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">(error)));</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#B392F0"> handle</span><span style="color:#E1E4E8">(generator.</span><span style="color:#B392F0">next</span><span style="color:#E1E4E8">());</span></span>\n<span class="line"><span style="color:#E1E4E8">\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">function*</span><span style="color:#B392F0"> myGenerator</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result1</span><span style="color:#F97583"> =</span><span style="color:#F97583"> yield</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span></span>\n<span class="line"><span style="color:#B392F0">\t\tsetTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> resolve</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"First result"</span><span style="color:#E1E4E8">), </span><span style="color:#79B8FF">1000</span><span style="color:#E1E4E8">)</span></span>\n<span class="line"><span style="color:#E1E4E8">\t);</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(result1);</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> result2</span><span style="color:#F97583"> =</span><span style="color:#F97583"> yield</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span></span>\n<span class="line"><span style="color:#B392F0">\t\tsetTimeout</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> resolve</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Second result"</span><span style="color:#E1E4E8">), </span><span style="color:#79B8FF">1000</span><span style="color:#E1E4E8">)</span></span>\n<span class="line"><span style="color:#E1E4E8">\t);</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(result2);</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#9ECBFF"> "Done"</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> myAsyncFunction</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> customAsync</span><span style="color:#E1E4E8">(myGenerator);</span></span>\n<span class="line"><span style="color:#B392F0">myAsyncFunction</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">result</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(result)); </span><span style="color:#6A737D">// 依次输出 "First result", "Second result", "Done"</span></span>\n<span class="line"></span></code></pre>\n<h3 id="正则获取-url-params">正则获取 url params<a class="anchor" href="#正则获取-url-params"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 自定义实现获取 URL 参数</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getUrlParams</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">url</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Record</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> params</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Record</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">string</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {};</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> regex</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> /</span><span style="color:#79B8FF">[?&#x26;]</span><span style="color:#DBEDFF">(</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">=&#x26;#]</span><span style="color:#F97583">+</span><span style="color:#DBEDFF">)=(</span><span style="color:#79B8FF">[</span><span style="color:#F97583">^</span><span style="color:#79B8FF">&#x26;#]</span><span style="color:#F97583">*</span><span style="color:#DBEDFF">)</span><span style="color:#9ECBFF">/</span><span style="color:#F97583">g</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">\tlet</span><span style="color:#E1E4E8"> match</span><span style="color:#F97583">:</span><span style="color:#B392F0"> RegExpExecArray</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">\t// 使用正则表达式匹配 URL 参数</span></span>\n<span class="line"><span style="color:#F97583">\twhile</span><span style="color:#E1E4E8"> ((match </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> regex.</span><span style="color:#B392F0">exec</span><span style="color:#E1E4E8">(url)) </span><span style="color:#F97583">!==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#6A737D">\t\t// 将匹配到的参数名称和值添加到结果对象中</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tparams[</span><span style="color:#B392F0">decodeURIComponent</span><span style="color:#E1E4E8">(match[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">])] </span><span style="color:#F97583">=</span><span style="color:#B392F0"> decodeURIComponent</span><span style="color:#E1E4E8">(match[</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">]);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> params;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 测试用例</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> testUrl1</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "https://www.example.com/test?name=John&#x26;age=30&#x26;city=New-York"</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> result1</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getUrlParams</span><span style="color:#E1E4E8">(testUrl1);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(result1); </span><span style="color:#6A737D">// { name: \'John\', age: \'30\', city: \'New York\' }</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> testUrl2</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "https://www.example.com/test?query=test&#x26;page=1&#x26;filter=active"</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> result2</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getUrlParams</span><span style="color:#E1E4E8">(testUrl2);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(result2); </span><span style="color:#6A737D">// { query: \'test\', page: \'1\', filter: \'active\' }</span></span>\n<span class="line"></span></code></pre>\n<h3 id="jsonp">jsonp<a class="anchor" href="#jsonp"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> jsonp</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#FFAB70">\turl</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#FFAB70">\tparams</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { [</span><span style="color:#FFAB70">key</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8"> },</span></span>\n<span class="line"><span style="color:#FFAB70">\tcallbackName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span></span>\n<span class="line"><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">any</span><span style="color:#E1E4E8">> {</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#F97583"> new</span><span style="color:#79B8FF"> Promise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reject</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#6A737D">\t\t// 创建一个全局回调函数，用于接收请求返回的数据</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t(window </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">)[callbackName] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">data</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tdelete</span><span style="color:#E1E4E8"> (window </span><span style="color:#F97583">as</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">)[callbackName]; </span><span style="color:#6A737D">// 请求完成后删除全局回调函数</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tdocument.body.</span><span style="color:#B392F0">removeChild</span><span style="color:#E1E4E8">(script); </span><span style="color:#6A737D">// 移除script标签</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\tresolve</span><span style="color:#E1E4E8">(data); </span><span style="color:#6A737D">// 解析Promise，返回数据</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t};</span></span>\n<span class="line"><span style="color:#6A737D">\t\t// 将请求参数和回调函数名添加到URL</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> queryString</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">entries</span><span style="color:#E1E4E8">(params)</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t([</span><span style="color:#FFAB70">key</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">]) </span><span style="color:#F97583">=></span></span>\n<span class="line"><span style="color:#9ECBFF">\t\t\t\t\t`${</span><span style="color:#B392F0">encodeURIComponent</span><span style="color:#9ECBFF">(</span><span style="color:#E1E4E8">key</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}=${</span><span style="color:#B392F0">encodeURIComponent</span><span style="color:#9ECBFF">(</span><span style="color:#E1E4E8">value</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}`</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t)</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t.</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"&#x26;"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> finalUrl</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> `${</span><span style="color:#E1E4E8">url</span><span style="color:#9ECBFF">}?${</span><span style="color:#E1E4E8">queryString</span><span style="color:#9ECBFF">}&#x26;callback=${</span><span style="color:#E1E4E8">callbackName</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#6A737D">\t\t// 创建并插入一个script标签，用于发起JSONP请求</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> script</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> document.</span><span style="color:#B392F0">createElement</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"script"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tscript.src </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> finalUrl;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tscript.</span><span style="color:#B392F0">onerror</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#B392F0"> reject</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"JSONP request failed"</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// 监听错误事件以处理请求失败的情况</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tdocument.body.</span><span style="color:#B392F0">appendChild</span><span style="color:#E1E4E8">(script);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t});</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> url</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "https://api.example.com/data"</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> params</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tuserId: </span><span style="color:#79B8FF">123</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\taccessToken: </span><span style="color:#9ECBFF">"abcdefgh"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> callbackName</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "jsonpCallback"</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#B392F0">jsonp</span><span style="color:#E1E4E8">(url, params, callbackName)</span></span>\n<span class="line"><span style="color:#E1E4E8">\t.</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">data</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(data))</span></span>\n<span class="line"><span style="color:#E1E4E8">\t.</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">error</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(error));</span></span>\n<span class="line"></span></code></pre>\n<h3 id="jsonstringify">JSON.stringify<a class="anchor" href="#jsonstringify"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> customJSONStringify</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">obj</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> seenObjects</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [];</span></span>\n<span class="line"><span style="color:#F97583">\tfunction</span><span style="color:#B392F0"> stringify</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">value</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#F97583">\t\t\ttypeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "number"</span><span style="color:#F97583"> ||</span></span>\n<span class="line"><span style="color:#F97583">\t\t\ttypeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "boolean"</span><span style="color:#F97583"> ||</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tvalue </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> null</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">(value);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "string"</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#9ECBFF"> `"${</span><span style="color:#E1E4E8">value</span><span style="color:#9ECBFF">}"`</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#F97583">\t\t\ttypeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "undefined"</span><span style="color:#F97583"> ||</span></span>\n<span class="line"><span style="color:#F97583">\t\t\ttypeof</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "function"</span><span style="color:#F97583"> ||</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tvalue </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> Symbol</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (seenObjects.</span><span style="color:#B392F0">indexOf</span><span style="color:#E1E4E8">(value) </span><span style="color:#F97583">!==</span><span style="color:#F97583"> -</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tthrow</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> TypeError</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Converting circular structure to JSON"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tseenObjects.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(value);</span></span>\n<span class="line"><span style="color:#F97583">\t\tif</span><span style="color:#E1E4E8"> (Array.</span><span style="color:#B392F0">isArray</span><span style="color:#E1E4E8">(value)) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tconst</span><span style="color:#79B8FF"> arr</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> value.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">item</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> stringify</span><span style="color:#E1E4E8">(item) </span><span style="color:#F97583">??</span><span style="color:#9ECBFF"> "null"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#F97583">\t\t\treturn</span><span style="color:#9ECBFF"> `[${</span><span style="color:#E1E4E8">arr</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">join</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">","</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}]`</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> keys</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Object.</span><span style="color:#B392F0">keys</span><span style="color:#E1E4E8">(value).</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t(</span><span style="color:#FFAB70">key</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\ttypeof</span><span style="color:#E1E4E8"> value[key] </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> "function"</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#F97583"> typeof</span><span style="color:#E1E4E8"> value[key] </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> "undefined"</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t);</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> keyValuePairs</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> keys.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t(</span><span style="color:#FFAB70">key</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#9ECBFF"> `"${</span><span style="color:#E1E4E8">key</span><span style="color:#9ECBFF">}":${</span><span style="color:#B392F0">stringify</span><span style="color:#9ECBFF">(</span><span style="color:#E1E4E8">value</span><span style="color:#9ECBFF">[</span><span style="color:#E1E4E8">key</span><span style="color:#9ECBFF">]) </span><span style="color:#F97583">??</span><span style="color:#9ECBFF"> "null"}`</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t);</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#9ECBFF"> `{${</span><span style="color:#E1E4E8">keyValuePairs</span><span style="color:#9ECBFF">.</span><span style="color:#B392F0">join</span><span style="color:#9ECBFF">(</span><span style="color:#9ECBFF">","</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">}}`</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#B392F0"> stringify</span><span style="color:#E1E4E8">(obj);</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 示例用法</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> obj</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tname: </span><span style="color:#9ECBFF">"Alice"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\tage: </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#B392F0">\tsayHello</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Hello"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">\tpreferences: {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tcolor: </span><span style="color:#9ECBFF">"blue"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tfood: </span><span style="color:#9ECBFF">"pizza"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">customJSONStringify</span><span style="color:#E1E4E8">(obj)); </span><span style="color:#6A737D">// 输出 \'{"name":"Alice","age":30,"preferences":{"color":"blue","food":"pizza"}}\'</span></span>\n<span class="line"></span></code></pre>\n<h3 id="promise">Promise<a class="anchor" href="#promise"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 定义Promise的三种状态常量</span></span>\n<span class="line"><span style="color:#F97583">enum</span><span style="color:#B392F0"> PromiseStatus</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#79B8FF">\tPending</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "PENDING"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#79B8FF">\tFulfilled</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "FULFILLED"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#79B8FF">\tRejected</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> "REJECTED"</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> CustomPromise</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#FFAB70">\tstatus</span><span style="color:#F97583">:</span><span style="color:#B392F0"> PromiseStatus</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#FFAB70">\tvalue</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#FFAB70">\treason</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#FFAB70">\tonFulfilledCallbacks</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Array</span><span style="color:#E1E4E8">&#x3C;(</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">>;</span></span>\n<span class="line"><span style="color:#FFAB70">\tonRejectedCallbacks</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Array</span><span style="color:#E1E4E8">&#x3C;(</span><span style="color:#F97583">...</span><span style="color:#FFAB70">args</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">[]) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">>;</span></span>\n<span class="line"><span style="color:#F97583">\tconstructor</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#B392F0">\t\texecutor</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\tresolve</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">value</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\treject</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">reason</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> void</span></span>\n<span class="line"><span style="color:#E1E4E8">\t) {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> PromiseStatus.Pending; </span><span style="color:#6A737D">// 初始状态为Pending</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.value </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 存储成功时的值</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.reason </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// 存储失败时的原因</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.onFulfilledCallbacks </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []; </span><span style="color:#6A737D">// 存储成功时的回调函数</span></span>\n<span class="line"><span style="color:#79B8FF">\t\tthis</span><span style="color:#E1E4E8">.onRejectedCallbacks </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []; </span><span style="color:#6A737D">// 存储失败时的回调函数</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#B392F0"> resolve</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">value</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> PromiseStatus.Pending) {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> PromiseStatus.Fulfilled;</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.value </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> value;</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.onFulfilledCallbacks.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">callback</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> callback</span><span style="color:#E1E4E8">());</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t};</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#B392F0"> reject</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">reason</span><span style="color:#F97583">?:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> PromiseStatus.Pending) {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> PromiseStatus.Rejected;</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.reason </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> reason;</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.onRejectedCallbacks.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">callback</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#B392F0"> callback</span><span style="color:#E1E4E8">());</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t};</span></span>\n<span class="line"><span style="color:#F97583">\t\ttry</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\texecutor</span><span style="color:#E1E4E8">(resolve, reject);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\treject</span><span style="color:#E1E4E8">(error);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#B392F0">\tthen</span><span style="color:#E1E4E8">(</span></span>\n<span class="line"><span style="color:#B392F0">\t\tonFulfilled</span><span style="color:#F97583">?:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">value</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#B392F0">\t\tonRejected</span><span style="color:#F97583">?:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">reason</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span></span>\n<span class="line"><span style="color:#E1E4E8">\t)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> CustomPromise</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tonFulfilled </span><span style="color:#F97583">=</span></span>\n<span class="line"><span style="color:#F97583">\t\t\ttypeof</span><span style="color:#E1E4E8"> onFulfilled </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "function"</span><span style="color:#F97583"> ?</span><span style="color:#E1E4E8"> onFulfilled </span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> value;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tonRejected </span><span style="color:#F97583">=</span></span>\n<span class="line"><span style="color:#F97583">\t\t\ttypeof</span><span style="color:#E1E4E8"> onRejected </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "function"</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t?</span><span style="color:#E1E4E8"> onRejected</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">reason</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\t\tthrow</span><span style="color:#E1E4E8"> reason;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t  };</span></span>\n<span class="line"><span style="color:#F97583">\t\tconst</span><span style="color:#79B8FF"> promise</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> CustomPromise</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">resolve</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reject</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tconst</span><span style="color:#B392F0"> handleFulfilled</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\ttry</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> onFulfilled</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.value);</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\tif</span><span style="color:#E1E4E8"> (result </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> promise) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\t\tthrow</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> TypeError</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Chaining cycle detected for promise"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\tif</span><span style="color:#E1E4E8"> (result </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> CustomPromise</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t\tresult.</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">(resolve, reject);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t} </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\t\t\t\tresolve</span><span style="color:#E1E4E8">(result);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\t\t\treject</span><span style="color:#E1E4E8">(error);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t};</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tconst</span><span style="color:#B392F0"> handleRejected</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\ttry</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\tconst</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> onRejected</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.reason);</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\tif</span><span style="color:#E1E4E8"> (result </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> promise) {</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\t\tthrow</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> TypeError</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Chaining cycle detected for promise"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t}</span></span>\n<span class="line"><span style="color:#F97583">\t\t\t\t\tif</span><span style="color:#E1E4E8"> (result </span><span style="color:#F97583">instanceof</span><span style="color:#B392F0"> CustomPromise</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t\tresult.</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">(resolve, reject);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t} </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\t\t\t\tresolve</span><span style="color:#E1E4E8">(result);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\t\t\treject</span><span style="color:#E1E4E8">(error);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t};</span></span>\n<span class="line"><span style="color:#F97583">\t\t\tif</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> PromiseStatus.Fulfilled) {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\t\tqueueMicrotask</span><span style="color:#E1E4E8">(handleFulfilled);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t} </span><span style="color:#F97583">else</span><span style="color:#F97583"> if</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.status </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> PromiseStatus.Rejected) {</span></span>\n<span class="line"><span style="color:#B392F0">\t\t\t\tqueueMicrotask</span><span style="color:#E1E4E8">(handleRejected);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t} </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.onFulfilledCallbacks.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> queueMicrotask</span><span style="color:#E1E4E8">(handleFulfilled));</span></span>\n<span class="line"><span style="color:#79B8FF">\t\t\t\tthis</span><span style="color:#E1E4E8">.onRejectedCallbacks.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> queueMicrotask</span><span style="color:#E1E4E8">(handleRejected));</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t});</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> promise;</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#B392F0">\tcatch</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">onRejected</span><span style="color:#F97583">?:</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">reason</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> CustomPromise</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">undefined</span><span style="color:#E1E4E8">, onRejected);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t}</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"></span></code></pre>\n<h3 id="写一个通用的方法来获取地址栏的某个参数对应的值不能使用正则表达式">写一个通用的方法来获取地址栏的某个参数对应的值，不能使用正则表达式<a class="anchor" href="#写一个通用的方法来获取地址栏的某个参数对应的值不能使用正则表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 方法一</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getQueryParam</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">paramName</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">\tconst</span><span style="color:#79B8FF"> urlParams</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> URLSearchParams</span><span style="color:#E1E4E8">(window.location.search);</span></span>\n<span class="line"><span style="color:#F97583">\treturn</span><span style="color:#E1E4E8"> urlParams.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(paramName);</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 使用示例</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> myParamValue</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getQueryParam</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"myParam"</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(myParamValue); </span><span style="color:#6A737D">// 输出myParam参数的值</span></span>\n<span class="line"></span></code></pre>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">// 方法二</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getQueryParam</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">paramName</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">  var</span><span style="color:#E1E4E8"> params </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> window.location.search.</span><span style="color:#B392F0">substr</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">\'&#x26;\'</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#F97583">  for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">let</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8"> params.</span><span style="color:#79B8FF">length</span><span style="color:#E1E4E8">; i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">) {</span></span>\n<span class="line"><span style="color:#F97583">    let</span><span style="color:#E1E4E8"> keyValuePair </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> params[i].</span><span style="color:#B392F0">split</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">\'=\'</span><span style="color:#E1E4E8">);</span><span style="color:#F97583">=</span></span>\n<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (keyValuePair[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">===</span><span style="color:#E1E4E8"> paramName) {</span></span>\n<span class="line"><span style="color:#F97583">      return</span><span style="color:#B392F0"> decodeURIComponent</span><span style="color:#E1E4E8">(keyValuePair[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]);</span></span>\n<span class="line"><span style="color:#E1E4E8">    }</span></span>\n<span class="line"><span style="color:#E1E4E8">  }</span></span>\n<span class="line"><span style="color:#F97583">  return</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#6A737D">// 使用示例</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> myParamValue</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getQueryParam</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">\'myParam\'</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(myParamValue); </span><span style="color:#6A737D">// 输出myParam参数的值</span></span>\n<span class="line"></span></code></pre>',frontmatter={title:"JS Interview",topic:null,type:null,tags:["JavaScript"],category:"Programming",Datereviewed:null,reviewed:null,difficulty:null,status:null,comment:null,aliases:["JS Interview"],draft:!0,DateStarted:"2024-04-25T00:00:00.000Z",DateModified:"2024-06-11T00:00:00.000Z","linter-yaml-title-alias":"JS Interview",minutes:35,words:7028},file="E:/SynologyDrive/Codespace/blog-site/mynote/my-fuwari-blog/src/content/posts/js/js-interview.md",url=void 0;function rawContent(){return'# JS Interview\n### JS 有哪些内置对象？\n### 什么是闭包\n### let const var 比较\n### 谈谈你对变量提升的理解\n### 如何理解作用域、作用域链和执行上下文？\n### 如何创建一个没有原型的对象？\n### 如何理解原型链？\n### JSON.stringify 有什么缺点？\n### for...in 和 for...of 的区别?\n### new 操作符都做了什么\n### 类数组和数组的区别，dom 的类数组如何转换成数组\n### offsetWidth/offsetHeight，clientWidth/clientHeight 与 scrollWidth/scrollHeight 的区别\n### mouseover/mouseout 与 mouseenter/mouseleave 的区别与联系\n### event.stopPropagation()与 event.stopImmediatePropagation 的区别\n### esm 和 commonjs 的区别\n### 谈谈你对 V8 垃圾回收的理解？\n### 如何优化和减少垃圾回收的影响，从而提高应用性能？\n### 说一下事件循环机制 Event Loop\n### 解释下 JavaScript 栈内存和堆内存？\n### 箭头函数与普通函数区别？\n### 箭头函数的 this 是声明时确定还是调用时确定？\n### isNaN 与 Number.isNaN 的区别\n### 谈谈你对 this 的理解\n### 谈谈你对严格模式的理解\n### 谈谈你对 Promise 的理解\n### 为什么 0.1+0.2 不等于 0.3\n### Map 与 WeakMap 的区别\n### 谈谈你对词法作用域的理解\n### es6 有哪些新特性？\n### async await 是什么？它有哪些作用？\n\n### 常用的数组方法有哪些？\n### 数组有哪几种循环方式？分别有什么作用？\n### 常用的字符串方法有哪些？\n### 什么是闭包？手写一个闭包函数？ 闭包有哪些优缺点？  \n### 常见的继承有哪些？\n### 什么是递归，递归有哪些优点或缺点？\n### 什么是深拷贝、什么是浅拷贝？\n### 请写至少三种数组去重的方法？（原生 js）\n\n```\n//利用filter\nfunction unique(arr) {\n  return arr.filter(function (item, index, arr) {\n    //当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素\n    return arr.indexOf(item, 0) === index\n  })\n}\nvar arr = [\n  1,\n  1,\n  \'true\',\n  \'true\',\n  true,\n  true,\n  15,\n  15,\n  false,\n  false,\n  undefined,\n  undefined,\n  null,\n  null,\n  NaN,\n  NaN,\n  \'NaN\',\n  0,\n  0,\n  \'a\',\n  \'a\',\n  {},\n  {}\n]\nconsole.log(unique(arr))\n//利用ES6 Set去重（ES6中最常用）\nfunction unique(arr) {\n  return Array.from(new Set(arr))\n}\nvar arr = [\n  1,\n  1,\n  \'true\',\n  \'true\',\n  true,\n  true,\n  15,\n  15,\n  false,\n  false,\n  undefined,\n  undefined,\n  null,\n  null,\n  NaN,\n  NaN,\n  \'NaN\',\n  0,\n  0,\n  \'a\',\n  \'a\',\n  {},\n  {}\n]\nconsole.log(unique(arr))\n//[1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", {}, {}]\n//利用for嵌套for，然后splice去重（ES5中最常用）\nfunction unique(arr) {\n  for (var i = 0; i < arr.length; i++) {\n    for (var j = i + 1; j < arr.length; j++) {\n      if (arr[i] == arr[j]) {\n        //第一个等同于第二个，splice方法删除第二个\n        arr.splice(j, 1)\n        j--\n      }\n    }\n  }\n  return arr\n}\nvar arr = [\n  1,\n  1,\n  \'true\',\n  \'true\',\n  true,\n  true,\n  15,\n  15,\n  false,\n  false,\n  undefined,\n  undefined,\n  null,\n  null,\n  NaN,\n  NaN,\n  \'NaN\',\n  0,\n  0,\n  \'a\',\n  \'a\',\n  {},\n  {}\n]\nconsole.log(unique(arr))\n//[1, "true", 15, false, undefined, NaN, NaN, "NaN", "a", {…}, {…}]\n//NaN和{}没有去重，两个null直接消失了\n```\n\n### 26、请写出至少两种常见的数组排序的方法（原生 js）\n\n```\n//快速排序\nfunction quickSort(elements) {\n  if (elements.length <= 1) {\n    return elements\n  }\n  var pivotIndex = Math.floor(elements.length / 2)\n  var pivot = elements.splice(pivotIndex, 1)[0]\n  var left = []\n  var right = []\n  for (var i = 0; i < elements.length; i++) {\n    if (elements[i] < pivot) {\n      left.push(elements[i])\n    } else {\n      right.push(elements[i])\n    }\n  }\n  return quickSort(left).concat([pivot], quickSort(right))\n  //concat()方法用于连接两个或者多个数组；该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。\n}\nvar elements = [3, 5, 6, 8, 2, 4, 7, 9, 1, 10]\ndocument.write(quickSort(elements))\n//插入排序\nfunction sort(elements) {\n  // 假设第0个元素是一个有序数列，第1个以后的是无序数列，\n  // 所以从第1个元素开始将无序数列的元素插入到有序数列中去\n  for (var i = 1; i <= elements.length; i++) {\n    // 升序\n    if (elements[i] < elements[i - 1]) {\n      // 取出无序数列中的第i个作为被插入元素\n      var guard = elements[i]\n      //记住有序数列的最后一个位置，并且将有序数列的位置扩大一个\n      var j = i - 1\n      elements[i] = elements[j]\n      // 比大小;找到被插入元素所在位置\n      while (j >= 0 && guard < elements[j]) {\n        elements[j + 1] = elements[j]\n        j--\n      }\n      elements[j + 1] = guard //插入\n    }\n  }\n}\nvar elements = [3, 5, 6, 8, 2, 4, 7, 9, 1, 10]\ndocument.write(\'没调用之前：\' + elements)\ndocument.write(\'<br>\')\nsort(elements)\ndocument.write(\'被调用之后：\' + elements)\n//冒泡排序\nfunction sort(elements) {\n  for (var i = 0; i < elements.length - 1; i++) {\n    for (var j = 0; j < elements.length - 1 - i; j++) {\n      if (elements[j] > elements[j + 1]) {\n        var swap = elements[j]\n        elements[j] = elements[j + 1]\n        elements[j + 1] = swap\n      }\n    }\n  }\n}\nvar elements = [3, 5, 6, 8, 2, 4, 7, 9, 1, 10]\nconsole.log(\'before\' + elements)\nsort(elements)\nconsole.log(\'after\' + elements)\n```\n\n### 27、知道 lodash 吗？它有哪些常见的 API ？\nLodash 是一个一致性、模块化、高性能的 JavaScript 实用工具库。 `_.cloneDeep` 深度拷贝 `_.reject` 根据条件去除某个元素。 `_.drop(array, [n=1] )` 作用：将 array 中的前 n 个元素去掉，然后返回剩余的部分.\n### 30、谈谈 set 、 map 是什么？\nset 是 es6 提供的一种新的数据结构，它类似于数组，但是成员的值都是唯一的。  \nmap 是 es6 提供的一种新的数据结构,它类似于对象，也是键值对的集合，但是键的范围不仅限于字符 串，各种类型的值都可以当做键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供 了“值—值”的对应，是一种更完善的 Hash 结构实现。如果你需要“键值对”的数据结构，Map 比 Object 更合适。\n### 33、图片懒加载是怎么实现的？\n就是我们先设置图片的 data-set 属性（当然也可以是其他任意的，只要不会发送 http 请求就行了，作用 就是为了存取值）值为其图片路径，由于不是 src，所以不会发送 http 请求。  \n然后我们计算出页面 scrollTop 的高度和浏览器的高度之和， 如果图片距离页面顶端的坐标 Y（相对于整个页面，而不是浏览 器窗口）小于前两者之和，就说明图片就要显示出来了（合适的时机，当然也可以是其他情况），  \n这时 候我们再将 data-set 属性替换为 src 属性即可。\n### 37、数据类型的判断有哪些方法？他们的优缺点及区别是什么？\n### 38、知道 symbol 吗？\nES6 引入新的原始数据类型 Symbol，表示独一无二的值\n### 39、请描述一下 ES6 中的 class 类?\nes6 中的 class 可以把它看成是 es5 中构造函数的语法糖，它简化了构造函数的写法， 类的共有属性放到 constructor 里面  \n通过 class 关键字创建类, 类名我们还是习惯性定义首字母大写  \n类里面有个 constructor 函数,可以接受传递过来的参数,同时返回实例对象  \nconstructor 函数 只要 new 生成实例时,就会自动调用这个函数, 如果我们不写这个函数,类也会自 动生成这个函数  \n多个函数方法之间不需要添加逗号分隔  \n生成实例 new 不能省略  \n语法规范, 创建类 类名后面不要加小括号,生成实例 类名后面加小括号, 构造函数不需要加 function  \n继承中,如果实例化子类输出一个方法,先看子类有没有这个方法,如果有就先执行子类的  \n继承中,如果子类里面没有,就去查找父类有没有这个方法,如果有,就执行父类的这个方法(就近 原则)  \n如果子类想要继承父类的方法,同时在自己内部扩展自己的方法,利用 super 调用 父类的构造函 数,super 必须在子类 this 之前调用  \n时刻注意 this 的指向问题,类里面的共有的属性和方法一定要加 this 使用.  \nconstructor 中的 this 指向的是 new 出来的实例对象  \n自定义的方法,一般也指向的 new 出来的实例对象  \n绑定事件之后 this 指向的就是触发事件的事件源  \n在 ES6 中类没有变量提升，所以必须先定义类，才能通过类实例化对象\n### 41、promise 是什么？它有哪些作用？\nPromise 是异步编程的一种解决方案.简单说就是一个容器，里面保存着某个未来才会结束的事件 （通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，可以从改对象获取异步操 作的消息。 它可以解决回调地狱的问题，也就是异步深层嵌套问题 .catch() 获取异常信息 .finally() 成功与否都会执行（不是正式标准）\n\n```\n/*\n1. Promise基本使用\n我们使用new来构建一个Promise Promise的构造函数接收一个参数，是函数，并\n且传入两个参数： resolve，reject， 分别表示异步操作执行成功后的回调函数\n和异步操作执行失败后的回调函数\n*/\nvar p = new Promise(function (resolve, reject) {\n  //2. 这里用于实现异步任务 setTimeout\n  setTimeout(function () {\n    var flag = false\n    if (flag) {\n      //3. 正常情况\n      resolve(\'hello\')\n    } else {\n      //4. 异常情况\n      reject(\'出错了\')\n    }\n  }, 100)\n})\n// 5 Promise实例生成以后，可以用then方法指定resolved状态和reject状态的回调函\n数\n// 在then方法中，你也可以直接return数据而不是Promise对象，在后面的then中就可以\n接收到数据了\np.then(\n  function (data) {\n    console.log(data)\n  },\n  function (info) {\n    console.log(info)\n  }\n)\n```\n\n### 43、箭头函数有哪些特征，请简单描述一下它？\n箭头函数没有自己的 this，this 指向定义箭头函数时所处的外部执行环境的 this  \n即使调用call/apply/bind也无法改变箭头函数的 this 箭头函数本身没有名字 箭头函数不能 new，会报错  \n箭头函数没有 arguments，在箭头函数内访问这个变量访问的是外部执行环境的 arguments  \n箭头函数没有 prototype\n### 50、js 的数据类型有哪些？\njs 的数据类型分为基本数据类型（string、number、boolean、null、undefined、symbol）和复杂数据类型  \n基本数据类型的特点：直接存储在栈中的数据  \n复杂数据类型的特点：存储的是该对象在栈中引用，真实的数据存放在堆内存里\n### 55、call、apply、bind 三者的异同\n共同点 : 都可以改变 this 指向;  \n不同点: call 和 apply 会调用函数, 并且改变函数内部 this 指向. call 和 apply传递的参数不一样,call 传递参数使用逗号隔开,apply 使用数组传递 bind 不会调用函数, 可以改变函 数内部 this 指向. 应用场景  \ncall 经常做继承.  \napply 经常跟数组有关系. 比如借助于数学对象实现数组最大值最小值  \nbind 不调用函数,但是还想改变 this 指向. 比如改变定时器内部的 this 指向\n### 18.简述对前端模块化的认识？\n块化的概念  \n模块化是一种处理复杂系统分解成为更好的可管理模块的方式，它可以把系统代码划分为一系列职责单一，高度解耦且可替换的模块，系统中某一部分的变化将如何影响其它部分就会变得显而易见，系统的可维护性更加简单易得。  \n模块化是一种分治的思想，通过分解复杂系统为独立的模块实现细粒度的精细控制，对于复杂系统的维护和管理十分有益。模块化也是组件化的基石，是构成现在色彩斑斓的前端世界的前提条件。  \n为什么需要模块化  \n前端开发和其他开发工作的主要区别，首先是前端是基于多语言、多层次的编码和组织工作，其次前端产品的交付是基于浏览器，这些资源是通过增量加载的方式运行到浏览器端，如何在开发环境组织好这些碎片化的代码和资源，并且保证他们在浏览器端快速、优雅的加载和更新，就需要一个模块化系统。  \n模块化的好处  \n可维护性。 因为模块是独立的，一个设计良好的模块会让外面的代码对自己的依赖越少越好，这样自己就可以独立去更新和改进。  \n命名空间。 在 JavaScript 里面，如果一个变量在最顶级的函数之外声明，它就直接变成全局可用。因此，常常不小心出现命名冲突的情况。使用模块化开发来封装变量，可以避免污染全局环境。  \n重用代码。 我们有时候会喜欢从之前写过的项目中拷贝代码到新的项目，这没有问题，但是更好的方法是，通过模块引用的方式，来避免重复的代码库。我们可以在更新了模块之后，让引用了该模块的所有项目都同步更新，还能指定版本号，避免 API 变更带来的麻烦。\n### 28.简述异步加载和延迟加载\n1.异步加载的方案： 动态插入script标签  \n2.通过ajax去获取js代码，然后通过eval执行  \n3.script标签上添加defer或者async属性  \n4.创建并插入iframe，让它异步执行js  \n5.延迟加载：有些 js 代码并不是页面初始化的时候就立刻需要的，而稍后的某些情况才需要的。\n### 29.简述Promise的构造函数\n构造一个 Promise，最基本的用法如下：\n\n```\nvar promise = new Promise(function(resolve, reject) {\n  if (...) { // succeed\n    \tresolve(result);\n    } else { // fails\n    \treject(Error(errMessage));\n  }\n});\n```\n\nPromise 实例拥有 then 方法（具有 then 方法的对象，通常被称为 thenable）。它的使用方法如下：  \npromise.then(onFulfilled, onRejected)  \n接收两个函数作为参数，一个在 fulfilled 的时候被调用，一个在 rejected 的时候被调用，接收参数就是 future，onFulfilled对应 resolve, onRejected 对应 reject。\n### 30.简述严格模式的限制\n严格模式主要有以下限制：  \n变量必须声明后再使用  \n函数的参数不能有同名属性，否则报错  \n不能使用with语句  \n不能对只读属性赋值，否则报错  \n不能使用前缀0表示八进制数，否则报错  \n不能删除不可删除的属性，否则报错  \n不能删除变量delete prop，会报错，只能删除属性delete global[prop]  \neval不会在它的外层作用域引入变量  \neval和arguments不能被重新赋值  \narguments不会自动反映函数参数的变化  \n不能使用arguments.callee  \n不能使用arguments.caller  \n禁止this指向全局对象  \n不能使用fn.caller和fn.arguments获取函数调用的堆栈  \n增加了保留字（比如protected、static和interface）  \n设立”严格模式”的目的，主要有以下几个：  \n消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;  \n消除代码运行的一些不安全之处，保证代码运行的安全；  \n提高编译器效率，增加运行速度；  \n为未来新版本的Javascript做好铺垫。  \n注：经过测试IE6,7,8,9均不支持严格模式。\n# Front-end Interview\n### 用 setTimeout 实现 setInterval\n\n```typescript\nfunction customSetInterval(callback: () => void, delay: number): () => void {\n\tlet timer;\n\tconst interval = () => {\n\t\tcallback();\n\t\ttimer = setTimeout(interval, delay);\n\t};\n\ttimer = setTimeout(interval, delay);\n\t// 返回清除定时器的函数\n\treturn () => {\n\t\tclearTimeout(timer);\n\t};\n}\n// 示例用法\nconst callback = () => console.log("Hello, world!");\nconst delay = 1000; // 每隔1000毫秒执行一次\nconst clearIntervalFunc = customSetInterval(callback, delay);\n// 用法：在需要的时候清除定时器\n// clearIntervalFunc();\n```\n\n### var 实现 let\n\n```typescript\nfunction demo() {\n\t(function () {\n\t\tvar x = "Hello, world!";\n\t\tconsole.log(x); // 输出 "Hello, world!"\n\t})();\n\ttry {\n\t\tconsole.log(x); // 抛出 ReferenceError，因为x在这个作用域内未定义\n\t} catch (error) {\n\t\tconsole.error(error); // 输出错误信息\n\t}\n}\ndemo();\n```\n\n### 实现所有的 TypeScript Utility Types\n\n```typescript\n// 1. Partial<T>\ntype Partial<T> = { [P in keyof T]?: T[P] };\n// 2. Required<T>\ntype Required<T> = { [P in keyof T]-?: T[P] };\n// 3. Readonly<T>\ntype Readonly<T> = { readonly [P in keyof T]: T[P] };\n// 4. Pick<T, K>\ntype Pick<T, K extends keyof T> = { [P in K]: T[P] };\n// 5. Omit<T, K>\ntype Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n// 6. Exclude<T, U>\ntype Exclude<T, U> = T extends U ? never : T;\n// 7. Extract<T, U>\ntype Extract<T, U> = T extends U ? T : never;\n// 8. NonNullable<T>\ntype NonNullable<T> = Exclude<T, null | undefined>;\n// 9. ReturnType<T>\ntype ReturnType<T extends (...args: any) => any> = T extends (\n\t...args: any\n) => infer R\n\t? R\n\t: any;\n// 10. InstanceType<T>\ntype InstanceType<T extends new (...args: any) => any> = T extends new (\n\t...args: any\n) => infer R\n\t? R\n\t: any;\n// 11. ThisParameterType<T>\ntype ThisParameterType<T> = T extends (this: infer U, ...args: any[]) => any\n\t? U\n\t: unknown;\n// 12. OmitThisParameter<T>\ntype OmitThisParameter<T> = T extends (this: any, ...args: infer A) => infer R\n\t? (...args: A) => R\n\t: T;\n// 13. ThisType<T>\n// `ThisType` is a marker utility type and can\'t be implemented like other utility types.\n```\n\n### 防抖 debounce\n\n```typescript\nfunction debounce(\n\tfunc: (...args: any[]) => void,\n\twait: number\n): (...args: any[]) => void {\n\tlet timeout: ReturnType<typeof setTimeout> | null = null;\n\treturn (...args: any[]) => {\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t}\n\t\ttimeout = setTimeout(() => {\n\t\t\tfunc.apply(null, args);\n\t\t}, wait);\n\t};\n}\n```\n\n### 节流 throttle\n\n```typescript\nfunction throttle(\n\tfunc: (...args: any[]) => void,\n\tlimit: number\n): (...args: any[]) => void {\n\tlet lastCall = 0; // 记录上次调用的时间戳\n\treturn (...args: any[]) => {\n\t\tconst now = Date.now(); // 获取当前时间戳\n\t\t// 如果当前时间与上次调用的时间差大于等于设定的限制时间，执行函数并更新上次调用时间\n\t\tif (now - lastCall >= limit) {\n\t\t\tfunc.apply(null, args);\n\t\t\tlastCall = now;\n\t\t}\n\t};\n}\n```\n\n### New\n\n```typescript\nfunction customNew(constructorFn: Function, ...args: any[]): object {\n\tconst obj = Object.create(constructorFn.prototype); // 创建一个新对象，并将其原型链设置为构造函数的prototype\n\tconst result = constructorFn.apply(obj, args); // 调用构造函数并将this绑定到新创建的对象\n\t// 如果构造函数返回了一个对象，那么返回这个对象，否则返回创建的新对象\n\treturn typeof result === "object" && result !== null ? result : obj;\n}\n// 示例用法\nfunction Person(name: string, age: number) {\n\tthis.name = name;\n\tthis.age = age;\n}\nconst alice = customNew(Person, "Alice", 30) as Person;\nconsole.log(alice.name); // 输出 "Alice"\nconsole.log(alice.age); // 输出 30\n```\n\n### 数组去重\n\n```typescript\n// First\nconst uniqueArray = (arr: any[]) => {\n\treturn [...new Set(arr)];\n};\n// Second\nconst uniqueArray = (arr: any[]) => {\n\tconst result = [];\n\tfor (const item of arr) {\n\t\tif (result.indexOf(item) === -1) {\n\t\t\tresult.push(item);\n\t\t}\n\t}\n\treturn result;\n};\n// Third\nconst uniqueArray = (arr: any[]) => {\n\treturn arr.filter((item, index) => {\n\t\treturn arr.indexOf(item) === index;\n\t});\n};\nconsole.log(uniqueArray([1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5])); // [1, 2, 3, 4, 5, 6]\n```\n\n### 实现正则切分千分位\n\n```typescript\nfunction formatThousands(n: number): string {\n\tconst reg = /\\d{1,3}(?=(\\d{3})+$)/g;\n\tconst num = n.toString();\n\tconst formattedNum = num.replace(reg, "$&,");\n\treturn formattedNum;\n}\n// 测试\nconsole.log(formatThousands(123456789)); // 输出: 123,456,789\nconsole.log(formatThousands(1000000)); // 输出: 1,000,000\nconsole.log(formatThousands(9876543210)); // 输出: 9,876,543,210\n```\n\n### call\n\n```typescript\n// 实现自定义call方法\nFunction.prototype.myCall = function (thisArg: any, ...args: any[]): any {\n\tconst fn = this;\n\tconst uniqueKey = Symbol("uniqueKey");\n\tthisArg[uniqueKey] = fn;\n\tconst result = thisArg[uniqueKey](...args);\n\tdelete thisArg[uniqueKey];\n\treturn result;\n};\nconst obj = {\n\tname: "Alice",\n};\n// 示例用法\nfunction greet(greeting: string, punctuation: string) {\n\tconsole.log(`${greeting}, ${this.name}${punctuation}`);\n}\ngreet.myCall(obj, "Hello", "!"); // 输出 "Hello, Alice!"\n```\n\n### apply\n\n```typescript\n// 实现自定义apply方法\nFunction.prototype.myApply = function (thisArg: any, args: any[]): any {\n\tconst fn = this;\n\tconst uniqueKey = Symbol("uniqueKey");\n\tthisArg[uniqueKey] = fn;\n\tconst result = thisArg[uniqueKey](...args);\n\tdelete thisArg[uniqueKey];\n\treturn result;\n};\nconst obj = {\n\tname: "Alice",\n};\n// 示例用法\nfunction greet(greeting: string, punctuation: string) {\n\tconsole.log(`${greeting}, ${this.name}${punctuation}`);\n}\ngreet.myApply(obj, ["Hi", "!"]); // 输出 "Hi, Alice!"\n```\n\n### bind\n\n```typescript\n// 实现自定义bind方法\nFunction.prototype.myBind = function (\n\tthisArg: any,\n\t...args1: any[]\n): (...args2: any[]) => any {\n\tconst fn = this;\n\treturn function (...args2: any[]) {\n\t\treturn fn.myApply(thisArg, args1.concat(args2));\n\t};\n};\nconst obj = {\n\tname: "Alice",\n};\n// 示例用法\nfunction greet(greeting: string, punctuation: string) {\n\tconsole.log(`${greeting}, ${this.name}${punctuation}`);\n}\nconst boundGreet = greet.myBind(obj, "Hey");\nboundGreet("?"); // 输出 "Hey, Alice?"\n```\n\n### 深拷贝\n\n```typescript\nfunction deepClone(obj: any, cache = new WeakMap()): any {\n\tif (obj === null || typeof obj !== "object") {\n\t\treturn obj;\n\t}\n\tif (cache.has(obj)) {\n\t\treturn cache.get(obj);\n\t}\n\tif (obj instanceof Date) {\n\t\treturn new Date(obj.getTime());\n\t}\n\tif (obj instanceof Function) {\n\t\treturn function (...args: any[]) {\n\t\t\tobj.apply(this, args);\n\t\t};\n\t}\n\tif (obj instanceof RegExp) {\n\t\treturn new RegExp(obj);\n\t}\n\tif (obj instanceof Array) {\n\t\tconst clonedArr: any[] = [];\n\t\tcache.set(obj, clonedArr);\n\t\tfor (let i = 0; i < obj.length; ++i) {\n\t\t\tclonedArr[i] = deepClone(obj[i], cache);\n\t\t}\n\t\treturn clonedArr;\n\t}\n\tconst clonedObj: { [key: string]: any } = {};\n\tcache.set(obj, clonedObj);\n\tfor (const key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\tclonedObj[key] = deepClone(obj[key], cache);\n\t\t}\n\t}\n\treturn clonedObj;\n}\n// 示例用法\nconst original: { [key: string]: any } = {\n\tname: "Alice",\n\tage: 30,\n\tdateOfBirth: new Date("1993-01-01"),\n\tpreferences: {\n\t\tcolor: "blue",\n\t\tfood: "pizza",\n\t},\n\tsum() {\n\t\tconsole.log(this.name + "-" + this.age);\n\t},\n};\noriginal.original = original;\noriginal.originalArr = [original, original];\nconst cloned = deepClone(original);\nconsole.log(cloned); // 输出与 original 相同但不是同一个引用的对象\n```\n\n### 柯里化\n\n```typescript\nfunction curry(fn: (...args: any[]) => any): (...args: any[]) => any {\n\tconst arity = fn.length; // 获取原函数的参数个数\n\tfunction curried(...args: any[]): any {\n\t\tif (args.length >= arity) {\n\t\t\treturn fn.apply(null, args);\n\t\t}\n\t\treturn (...restArgs: any[]) => curried.apply(null, args.concat(restArgs));\n\t}\n\treturn curried;\n}\n// 示例用法\nfunction add(a: number, b: number, c: number): number {\n\treturn a + b + c;\n}\nconst curriedAdd = curry(add);\nconsole.log(curriedAdd(1)(2)(3)); // 输出 6\n```\n\n### es5 和 es6 继承\n\n```js\n// ES5继承（构造函数 + 原型链）\nfunction AnimalES5(name: string) {\n\tthis.name = name;\n}\nAnimalES5.prototype.sayName = function () {\n\tconsole.log("My name is " + this.name);\n};\nfunction DogES5(name: string, breed: string) {\n\tAnimalES5.call(this, name); // 调用父类构造函数\n\tthis.breed = breed;\n}\nDogES5.prototype = Object.create(AnimalES5.prototype); // 设置原型链\nDogES5.prototype.constructor = DogES5; // 修复构造函数\nDogES5.prototype.sayBreed = function () {\n\tconsole.log("My breed is " + this.breed);\n};\n// 示例用法\nconst dogES5 = new DogES5("Max", "Golden Retriever");\ndogES5.sayName(); // 输出 "My name is Max"\ndogES5.sayBreed(); // 输出 "My breed is Golden Retriever"\n// ES6继承（使用class和extends关键字）\nclass AnimalES6 {\n\tname: string;\n\tconstructor(name: string) {\n\t\tthis.name = name;\n\t}\n\tsayName() {\n\t\tconsole.log("My name is " + this.name);\n\t}\n}\nclass DogES6 extends AnimalES6 {\n\tbreed: string;\n\tconstructor(name: string, breed: string) {\n\t\tsuper(name); // 调用父类构造函数\n\t\tthis.breed = breed;\n\t}\n\tsayBreed() {\n\t\tconsole.log("My breed is " + this.breed);\n\t}\n}\n// 示例用法\nconst dogES6 = new DogES6("Max", "Golden Retriever");\ndogES6.sayName(); // 输出 "My name is Max"\ndogES6.sayBreed(); // 输出 "My breed is Golden Retriever"\n```\n\n### instanceof\n\n```typescript\n// 自定义实现 instanceof\nfunction myInstanceOf(target: any, constructorFunc: Function): boolean {\n\t// 参数校验\n\tif (\n\t\ttypeof target !== "object" ||\n\t\ttarget === null ||\n\t\ttypeof constructorFunc !== "function"\n\t) {\n\t\treturn false;\n\t}\n\t// 获取目标对象的原型\n\tlet targetProto = Object.getPrototypeOf(target);\n\t// 获取构造函数的原型\n\tconst constructorProto = constructorFunc.prototype;\n\t// 遍历原型链，查找目标对象是否是构造函数的实例\n\twhile (targetProto !== null) {\n\t\tif (targetProto === constructorProto) {\n\t\t\treturn true;\n\t\t}\n\t\ttargetProto = Object.getPrototypeOf(targetProto);\n\t}\n\treturn false;\n}\n// 测试用例\nclass Animal {}\nclass Dog extends Animal {}\nclass Cat extends Animal {}\nconst dog = new Dog();\nconst cat = new Cat();\nconsole.log(myInstanceOf(dog, Dog)); // true\nconsole.log(myInstanceOf(dog, Animal)); // true\nconsole.log(myInstanceOf(cat, Dog)); // false\nconsole.log(myInstanceOf(cat, Animal)); // true\nconsole.log(myInstanceOf(123, Number)); // false\n```\n\n### 数组扁平化\n\n```typescript\n// 自定义实现数组扁平化\nfunction flattenArray(arr: any[]): any[] {\n\tconst result: any[] = [];\n\t// 递归处理每个元素\n\tfunction processItem(item: any) {\n\t\t// 如果元素是数组，则递归处理\n\t\tif (Array.isArray(item)) {\n\t\t\titem.forEach(processItem);\n\t\t} else {\n\t\t\t// 如果元素不是数组，直接添加到结果数组中\n\t\t\tresult.push(item);\n\t\t}\n\t}\n\tarr.forEach(processItem);\n\treturn result;\n}\n// 测试用例\nconst nestedArray = [1, [2, [3, 4], 5, [6, [7, 8]]], 9, 10];\nconsole.log(flattenArray(nestedArray)); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nconst nestedArray2 = [1, [2, 3], 4, [[5], 6, [7, [8, 9, [10]]]]];\nconsole.log(flattenArray(nestedArray2)); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n```\n\n### 对象扁平化\n\n```typescript\nfunction flattenObject(\n\tobj: { [key: string]: any },\n\tprefix = ""\n): { [key: string]: any } {\n\tconst flattened: { [key: string]: any } = {};\n\tfor (const key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\tconst newKey = prefix ? `${prefix}.${key}` : key;\n\t\t\tif (\n\t\t\t\ttypeof obj[key] === "object" &&\n\t\t\t\tobj[key] !== null &&\n\t\t\t\t!Array.isArray(obj[key])\n\t\t\t) {\n\t\t\t\tObject.assign(flattened, flattenObject(obj[key], newKey));\n\t\t\t} else {\n\t\t\t\tflattened[newKey] = obj[key];\n\t\t\t}\n\t\t}\n\t}\n\treturn flattened;\n}\n// 示例用法\nconst nestedObj = {\n\ta: {\n\t\tb: {\n\t\t\tc: 1,\n\t\t\td: {\n\t\t\t\te: 2,\n\t\t\t},\n\t\t},\n\t\tf: 3,\n\t},\n\tg: {\n\t\th: 4,\n\t},\n};\nconst flattenedObj = flattenObject(nestedObj);\nconsole.log(flattenedObj);\n// 输出 { \'a.b.c\': 1, \'a.b.d.e\': 2, \'a.f\': 3, \'g.h\': 4 }\n```\n\n### JSON.parse\n\n```typescript\nconst myJSONParse = (target) => {\n\treturn eval(`(${target})`);\n};\n// 测试用例\nconst jsonString = \'{"name": "John", "age": 30, "city": "New York"}\';\nconst parsedObject = myJSONParse(jsonString);\nconsole.log(parsedObject); // { name: \'JOHN\', age: 30, city: \'NEW YORK\' }\n```\n\n### EventEmitter 事件触发器\n\n```typescript\nclass EventEmitter {\n\tprivate events: Map<string, Array<(...args: any[]) => void>>;\n\tconstructor() {\n\t\tthis.events = new Map(); // 存储事件名和对应的回调函数列表\n\t}\n\t// 添加事件监听\n\ton(event: string, listener: (...args: any[]) => void): void {\n\t\tif (!this.events.has(event)) {\n\t\t\tthis.events.set(event, []);\n\t\t}\n\t\tthis.events.get(event)!.push(listener);\n\t}\n\t// 移除事件监听\n\toff(event: string, listener: (...args: any[]) => void): void {\n\t\tconst listeners = this.events.get(event);\n\t\tif (listeners) {\n\t\t\tconst index = listeners.indexOf(listener);\n\t\t\tif (index !== -1) {\n\t\t\t\tlisteners.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t// 触发事件\n\temit(event: string, ...args: any[]): void {\n\t\tconst listeners = this.events.get(event);\n\t\tif (listeners) {\n\t\t\tlisteners.forEach((listener) => listener.apply(null, args));\n\t\t}\n\t}\n\t// 添加只执行一次的事件监听\n\tonce(event: string, listener: (...args: any[]) => void): void {\n\t\tconst wrappedListener = (...args: any[]) => {\n\t\t\tlistener.apply(null, args);\n\t\t\tthis.off(event, wrappedListener);\n\t\t};\n\t\tthis.on(event, wrappedListener);\n\t}\n}\n// 示例用法\nconst eventEmitter = new EventEmitter();\nfunction hello(name: string) {\n\tconsole.log(`Hello, ${name}!`);\n}\neventEmitter.on("greet", hello);\neventEmitter.emit("greet", "Alice"); // 输出 "Hello, Alice!"\neventEmitter.off("greet", hello);\neventEmitter.emit("greet", "Bob"); // 不会输出，因为监听器已被移除\neventEmitter.once("welcome", hello);\neventEmitter.emit("welcome", "Carol"); // 输出 "Hello, Carol!"\neventEmitter.emit("welcome", "David"); // 不会输出，因为监听器只执行一次\n```\n\n### async/await\n\n```typescript\nfunction customAsync(generatorFn: (...args: any[]) => Generator) {\n\treturn function (...args: any[]) {\n\t\tconst generator = generatorFn.apply(null, args);\n\t\tfunction handle(result: IteratorResult<any>): Promise<any> {\n\t\t\tif (result.done) {\n\t\t\t\treturn Promise.resolve(result.value);\n\t\t\t}\n\t\t\treturn Promise.resolve(result.value)\n\t\t\t\t.then((value) => handle(generator.next(value)))\n\t\t\t\t.catch((error) => handle(generator.throw!(error)));\n\t\t}\n\t\treturn handle(generator.next());\n\t};\n}\n// 示例用法\nfunction* myGenerator() {\n\tconst result1 = yield new Promise((resolve) =>\n\t\tsetTimeout(() => resolve("First result"), 1000)\n\t);\n\tconsole.log(result1);\n\tconst result2 = yield new Promise((resolve) =>\n\t\tsetTimeout(() => resolve("Second result"), 1000)\n\t);\n\tconsole.log(result2);\n\treturn "Done";\n}\nconst myAsyncFunction = customAsync(myGenerator);\nmyAsyncFunction().then((result) => console.log(result)); // 依次输出 "First result", "Second result", "Done"\n```\n\n### 正则获取 url params\n\n```typescript\n// 自定义实现获取 URL 参数\nfunction getUrlParams(url: string): Record<string, string> {\n\tconst params: Record<string, string> = {};\n\tconst regex = /[?&]([^=&#]+)=([^&#]*)/g;\n\tlet match: RegExpExecArray | null;\n\t// 使用正则表达式匹配 URL 参数\n\twhile ((match = regex.exec(url)) !== null) {\n\t\t// 将匹配到的参数名称和值添加到结果对象中\n\t\tparams[decodeURIComponent(match[1])] = decodeURIComponent(match[2]);\n\t}\n\treturn params;\n}\n// 测试用例\nconst testUrl1 = "https://www.example.com/test?name=John&age=30&city=New-York";\nconst result1 = getUrlParams(testUrl1);\nconsole.log(result1); // { name: \'John\', age: \'30\', city: \'New York\' }\nconst testUrl2 = "https://www.example.com/test?query=test&page=1&filter=active";\nconst result2 = getUrlParams(testUrl2);\nconsole.log(result2); // { query: \'test\', page: \'1\', filter: \'active\' }\n```\n\n### jsonp\n\n```typescript\nfunction jsonp(\n\turl: string,\n\tparams: { [key: string]: any },\n\tcallbackName: string\n): Promise<any> {\n\treturn new Promise((resolve, reject) => {\n\t\t// 创建一个全局回调函数，用于接收请求返回的数据\n\t\t(window as any)[callbackName] = (data: any) => {\n\t\t\tdelete (window as any)[callbackName]; // 请求完成后删除全局回调函数\n\t\t\tdocument.body.removeChild(script); // 移除script标签\n\t\t\tresolve(data); // 解析Promise，返回数据\n\t\t};\n\t\t// 将请求参数和回调函数名添加到URL\n\t\tconst queryString = Object.entries(params)\n\t\t\t.map(\n\t\t\t\t([key, value]) =>\n\t\t\t\t\t`${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n\t\t\t)\n\t\t\t.join("&");\n\t\tconst finalUrl = `${url}?${queryString}&callback=${callbackName}`;\n\t\t// 创建并插入一个script标签，用于发起JSONP请求\n\t\tconst script = document.createElement("script");\n\t\tscript.src = finalUrl;\n\t\tscript.onerror = () => reject(new Error("JSONP request failed")); // 监听错误事件以处理请求失败的情况\n\t\tdocument.body.appendChild(script);\n\t});\n}\n// 示例用法\nconst url = "https://api.example.com/data";\nconst params = {\n\tuserId: 123,\n\taccessToken: "abcdefgh",\n};\nconst callbackName = "jsonpCallback";\njsonp(url, params, callbackName)\n\t.then((data) => console.log(data))\n\t.catch((error) => console.error(error));\n```\n\n### JSON.stringify\n\n```typescript\nfunction customJSONStringify(obj: any): string | undefined {\n\tconst seenObjects: any[] = [];\n\tfunction stringify(value: any): string | undefined {\n\t\tif (\n\t\t\ttypeof value === "number" ||\n\t\t\ttypeof value === "boolean" ||\n\t\t\tvalue === null\n\t\t) {\n\t\t\treturn String(value);\n\t\t}\n\t\tif (typeof value === "string") {\n\t\t\treturn `"${value}"`;\n\t\t}\n\t\tif (\n\t\t\ttypeof value === "undefined" ||\n\t\t\ttypeof value === "function" ||\n\t\t\tvalue instanceof Symbol\n\t\t) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (seenObjects.indexOf(value) !== -1) {\n\t\t\tthrow new TypeError("Converting circular structure to JSON");\n\t\t}\n\t\tseenObjects.push(value);\n\t\tif (Array.isArray(value)) {\n\t\t\tconst arr = value.map((item) => stringify(item) ?? "null");\n\t\t\treturn `[${arr.join(",")}]`;\n\t\t}\n\t\tconst keys = Object.keys(value).filter(\n\t\t\t(key) =>\n\t\t\t\ttypeof value[key] !== "function" && typeof value[key] !== "undefined"\n\t\t);\n\t\tconst keyValuePairs = keys.map(\n\t\t\t(key) => `"${key}":${stringify(value[key]) ?? "null"}`\n\t\t);\n\t\treturn `{${keyValuePairs.join(",")}}`;\n\t}\n\treturn stringify(obj);\n}\n// 示例用法\nconst obj = {\n\tname: "Alice",\n\tage: 30,\n\tsayHello: function () {\n\t\tconsole.log("Hello");\n\t},\n\tpreferences: {\n\t\tcolor: "blue",\n\t\tfood: "pizza",\n\t},\n};\nconsole.log(customJSONStringify(obj)); // 输出 \'{"name":"Alice","age":30,"preferences":{"color":"blue","food":"pizza"}}\'\n```\n\n### Promise\n\n```typescript\n// 定义Promise的三种状态常量\nenum PromiseStatus {\n\tPending = "PENDING",\n\tFulfilled = "FULFILLED",\n\tRejected = "REJECTED",\n}\nclass CustomPromise {\n\tstatus: PromiseStatus;\n\tvalue: any;\n\treason: any;\n\tonFulfilledCallbacks: Array<(...args: any[]) => void>;\n\tonRejectedCallbacks: Array<(...args: any[]) => void>;\n\tconstructor(\n\t\texecutor: (\n\t\t\tresolve: (value?: any) => void,\n\t\t\treject: (reason?: any) => void\n\t\t) => void\n\t) {\n\t\tthis.status = PromiseStatus.Pending; // 初始状态为Pending\n\t\tthis.value = null; // 存储成功时的值\n\t\tthis.reason = null; // 存储失败时的原因\n\t\tthis.onFulfilledCallbacks = []; // 存储成功时的回调函数\n\t\tthis.onRejectedCallbacks = []; // 存储失败时的回调函数\n\t\tconst resolve = (value?: any) => {\n\t\t\tif (this.status === PromiseStatus.Pending) {\n\t\t\t\tthis.status = PromiseStatus.Fulfilled;\n\t\t\t\tthis.value = value;\n\t\t\t\tthis.onFulfilledCallbacks.forEach((callback) => callback());\n\t\t\t}\n\t\t};\n\t\tconst reject = (reason?: any) => {\n\t\t\tif (this.status === PromiseStatus.Pending) {\n\t\t\t\tthis.status = PromiseStatus.Rejected;\n\t\t\t\tthis.reason = reason;\n\t\t\t\tthis.onRejectedCallbacks.forEach((callback) => callback());\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\texecutor(resolve, reject);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t}\n\tthen(\n\t\tonFulfilled?: (value: any) => any,\n\t\tonRejected?: (reason: any) => any\n\t): CustomPromise {\n\t\tonFulfilled =\n\t\t\ttypeof onFulfilled === "function" ? onFulfilled : (value) => value;\n\t\tonRejected =\n\t\t\ttypeof onRejected === "function"\n\t\t\t\t? onRejected\n\t\t\t\t: (reason) => {\n\t\t\t\t\t\tthrow reason;\n\t\t\t\t  };\n\t\tconst promise = new CustomPromise((resolve, reject) => {\n\t\t\tconst handleFulfilled = () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = onFulfilled!(this.value);\n\t\t\t\t\tif (result === promise) {\n\t\t\t\t\t\tthrow new TypeError("Chaining cycle detected for promise");\n\t\t\t\t\t}\n\t\t\t\t\tif (result instanceof CustomPromise) {\n\t\t\t\t\t\tresult.then(resolve, reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst handleRejected = () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = onRejected!(this.reason);\n\t\t\t\t\tif (result === promise) {\n\t\t\t\t\t\tthrow new TypeError("Chaining cycle detected for promise");\n\t\t\t\t\t}\n\t\t\t\t\tif (result instanceof CustomPromise) {\n\t\t\t\t\t\tresult.then(resolve, reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.status === PromiseStatus.Fulfilled) {\n\t\t\t\tqueueMicrotask(handleFulfilled);\n\t\t\t} else if (this.status === PromiseStatus.Rejected) {\n\t\t\t\tqueueMicrotask(handleRejected);\n\t\t\t} else {\n\t\t\t\tthis.onFulfilledCallbacks.push(() => queueMicrotask(handleFulfilled));\n\t\t\t\tthis.onRejectedCallbacks.push(() => queueMicrotask(handleRejected));\n\t\t\t}\n\t\t});\n\t\treturn promise;\n\t}\n\tcatch(onRejected?: (reason: any) => any): CustomPromise {\n\t\treturn this.then(undefined, onRejected);\n\t}\n}\n```\n\n### 写一个通用的方法来获取地址栏的某个参数对应的值，不能使用正则表达式\n\n```javascript\n// 方法一\nfunction getQueryParam(paramName) {\n\tconst urlParams = new URLSearchParams(window.location.search);\n\treturn urlParams.get(paramName);\n}\n// 使用示例\nconst myParamValue = getQueryParam("myParam");\nconsole.log(myParamValue); // 输出myParam参数的值\n```\n\n```javascript\n// 方法二\nfunction getQueryParam(paramName) {\n  var params = window.location.search.substr(1).split(\'&\');\n  for (let i = 0; i < params.length; i++) {\n    let keyValuePair = params[i].split(\'=\');=\n    if (keyValuePair[0] === paramName) {\n      return decodeURIComponent(keyValuePair[1]);\n    }\n  }\n  return null;\n}\n// 使用示例\nconst myParamValue = getQueryParam(\'myParam\');\nconsole.log(myParamValue); // 输出myParam参数的值\n```'}function compiledContent(){return html}function getHeadings(){return[{depth:1,slug:"js-interview",text:"JS Interview#"},{depth:3,slug:"js-有哪些内置对象",text:"JS 有哪些内置对象？#"},{depth:3,slug:"什么是闭包",text:"什么是闭包#"},{depth:3,slug:"let-const-var-比较",text:"let const var 比较#"},{depth:3,slug:"谈谈你对变量提升的理解",text:"谈谈你对变量提升的理解#"},{depth:3,slug:"如何理解作用域作用域链和执行上下文",text:"如何理解作用域、作用域链和执行上下文？#"},{depth:3,slug:"如何创建一个没有原型的对象",text:"如何创建一个没有原型的对象？#"},{depth:3,slug:"如何理解原型链",text:"如何理解原型链？#"},{depth:3,slug:"jsonstringify-有什么缺点",text:"JSON.stringify 有什么缺点？#"},{depth:3,slug:"forin-和-forof-的区别",text:"for…in 和 for…of 的区别?#"},{depth:3,slug:"new-操作符都做了什么",text:"new 操作符都做了什么#"},{depth:3,slug:"类数组和数组的区别dom-的类数组如何转换成数组",text:"类数组和数组的区别，dom 的类数组如何转换成数组#"},{depth:3,slug:"offsetwidthoffsetheightclientwidthclientheight-与-scrollwidthscrollheight-的区别",text:"offsetWidth/offsetHeight，clientWidth/clientHeight 与 scrollWidth/scrollHeight 的区别#"},{depth:3,slug:"mouseovermouseout-与-mouseentermouseleave-的区别与联系",text:"mouseover/mouseout 与 mouseenter/mouseleave 的区别与联系#"},{depth:3,slug:"eventstoppropagation与-eventstopimmediatepropagation-的区别",text:"event.stopPropagation()与 event.stopImmediatePropagation 的区别#"},{depth:3,slug:"esm-和-commonjs-的区别",text:"esm 和 commonjs 的区别#"},{depth:3,slug:"谈谈你对-v8-垃圾回收的理解",text:"谈谈你对 V8 垃圾回收的理解？#"},{depth:3,slug:"如何优化和减少垃圾回收的影响从而提高应用性能",text:"如何优化和减少垃圾回收的影响，从而提高应用性能？#"},{depth:3,slug:"说一下事件循环机制-event-loop",text:"说一下事件循环机制 Event Loop#"},{depth:3,slug:"解释下-javascript-栈内存和堆内存",text:"解释下 JavaScript 栈内存和堆内存？#"},{depth:3,slug:"箭头函数与普通函数区别",text:"箭头函数与普通函数区别？#"},{depth:3,slug:"箭头函数的-this-是声明时确定还是调用时确定",text:"箭头函数的 this 是声明时确定还是调用时确定？#"},{depth:3,slug:"isnan-与-numberisnan-的区别",text:"isNaN 与 Number.isNaN 的区别#"},{depth:3,slug:"谈谈你对-this-的理解",text:"谈谈你对 this 的理解#"},{depth:3,slug:"谈谈你对严格模式的理解",text:"谈谈你对严格模式的理解#"},{depth:3,slug:"谈谈你对-promise-的理解",text:"谈谈你对 Promise 的理解#"},{depth:3,slug:"为什么-0102-不等于-03",text:"为什么 0.1+0.2 不等于 0.3#"},{depth:3,slug:"map-与-weakmap-的区别",text:"Map 与 WeakMap 的区别#"},{depth:3,slug:"谈谈你对词法作用域的理解",text:"谈谈你对词法作用域的理解#"},{depth:3,slug:"es6-有哪些新特性",text:"es6 有哪些新特性？#"},{depth:3,slug:"async-await-是什么它有哪些作用",text:"async await 是什么？它有哪些作用？#"},{depth:3,slug:"常用的数组方法有哪些",text:"常用的数组方法有哪些？#"},{depth:3,slug:"数组有哪几种循环方式分别有什么作用",text:"数组有哪几种循环方式？分别有什么作用？#"},{depth:3,slug:"常用的字符串方法有哪些",text:"常用的字符串方法有哪些？#"},{depth:3,slug:"什么是闭包手写一个闭包函数-闭包有哪些优缺点",text:"什么是闭包？手写一个闭包函数？ 闭包有哪些优缺点？#"},{depth:3,slug:"常见的继承有哪些",text:"常见的继承有哪些？#"},{depth:3,slug:"什么是递归递归有哪些优点或缺点",text:"什么是递归，递归有哪些优点或缺点？#"},{depth:3,slug:"什么是深拷贝什么是浅拷贝",text:"什么是深拷贝、什么是浅拷贝？#"},{depth:3,slug:"请写至少三种数组去重的方法原生-js",text:"请写至少三种数组去重的方法？（原生 js）#"},{depth:3,slug:"26请写出至少两种常见的数组排序的方法原生-js",text:"26、请写出至少两种常见的数组排序的方法（原生 js）#"},{depth:3,slug:"27知道-lodash-吗它有哪些常见的-api-",text:"27、知道 lodash 吗？它有哪些常见的 API ？#"},{depth:3,slug:"30谈谈-set--map-是什么",text:"30、谈谈 set 、 map 是什么？#"},{depth:3,slug:"33图片懒加载是怎么实现的",text:"33、图片懒加载是怎么实现的？#"},{depth:3,slug:"37数据类型的判断有哪些方法他们的优缺点及区别是什么",text:"37、数据类型的判断有哪些方法？他们的优缺点及区别是什么？#"},{depth:3,slug:"38知道-symbol-吗",text:"38、知道 symbol 吗？#"},{depth:3,slug:"39请描述一下-es6-中的-class-类",text:"39、请描述一下 ES6 中的 class 类?#"},{depth:3,slug:"41promise-是什么它有哪些作用",text:"41、promise 是什么？它有哪些作用？#"},{depth:3,slug:"43箭头函数有哪些特征请简单描述一下它",text:"43、箭头函数有哪些特征，请简单描述一下它？#"},{depth:3,slug:"50js-的数据类型有哪些",text:"50、js 的数据类型有哪些？#"},{depth:3,slug:"55callapplybind-三者的异同",text:"55、call、apply、bind 三者的异同#"},{depth:3,slug:"18简述对前端模块化的认识",text:"18.简述对前端模块化的认识？#"},{depth:3,slug:"28简述异步加载和延迟加载",text:"28.简述异步加载和延迟加载#"},{depth:3,slug:"29简述promise的构造函数",text:"29.简述Promise的构造函数#"},{depth:3,slug:"30简述严格模式的限制",text:"30.简述严格模式的限制#"},{depth:1,slug:"front-end-interview",text:"Front-end Interview#"},{depth:3,slug:"用-settimeout-实现-setinterval",text:"用 setTimeout 实现 setInterval#"},{depth:3,slug:"var-实现-let",text:"var 实现 let#"},{depth:3,slug:"实现所有的-typescript-utility-types",text:"实现所有的 TypeScript Utility Types#"},{depth:3,slug:"防抖-debounce",text:"防抖 debounce#"},{depth:3,slug:"节流-throttle",text:"节流 throttle#"},{depth:3,slug:"new",text:"New#"},{depth:3,slug:"数组去重",text:"数组去重#"},{depth:3,slug:"实现正则切分千分位",text:"实现正则切分千分位#"},{depth:3,slug:"call",text:"call#"},{depth:3,slug:"apply",text:"apply#"},{depth:3,slug:"bind",text:"bind#"},{depth:3,slug:"深拷贝",text:"深拷贝#"},{depth:3,slug:"柯里化",text:"柯里化#"},{depth:3,slug:"es5-和-es6-继承",text:"es5 和 es6 继承#"},{depth:3,slug:"instanceof",text:"instanceof#"},{depth:3,slug:"数组扁平化",text:"数组扁平化#"},{depth:3,slug:"对象扁平化",text:"对象扁平化#"},{depth:3,slug:"jsonparse",text:"JSON.parse#"},{depth:3,slug:"eventemitter-事件触发器",text:"EventEmitter 事件触发器#"},{depth:3,slug:"asyncawait",text:"async/await#"},{depth:3,slug:"正则获取-url-params",text:"正则获取 url params#"},{depth:3,slug:"jsonp",text:"jsonp#"},{depth:3,slug:"jsonstringify",text:"JSON.stringify#"},{depth:3,slug:"promise",text:"Promise#"},{depth:3,slug:"写一个通用的方法来获取地址栏的某个参数对应的值不能使用正则表达式",text:"写一个通用的方法来获取地址栏的某个参数对应的值，不能使用正则表达式#"}]}const Content=createComponent(((s,n,a)=>{const{layout:l,...p}=frontmatter;return p.file=file,p.url=url,renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`}));export{Content,compiledContent,Content as default,file,frontmatter,getHeadings,rawContent,url};