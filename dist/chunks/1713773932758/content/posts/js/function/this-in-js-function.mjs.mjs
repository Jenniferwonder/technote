import{createComponent,renderTemplate,maybeRenderHead,unescapeHTML}from"../../../../astro.mjs";import"kleur/colors";import"clsx";import"html-escaper";import"cssesc";const html='<h1 id="this-in-js-functions">this in JS Functions<a class="anchor" href="#this-in-js-functions"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h1>\n<hr>\n<p>Basic</p>\n<h3 id="this-çš„-5-ç§ç»‘å®šæ–¹å¼"><code>this</code> çš„ 5 ç§ç»‘å®šæ–¹å¼<a class="anchor" href="#this-çš„-5-ç§ç»‘å®šæ–¹å¼"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3>\n<p>Back:</p>\n<ol>\n<li>é»˜è®¤ç»‘å®š\n<ul>\n<li>éä¸¥æ ¼æ¨¡å¼ä¸‹ this æŒ‡å‘å…¨å±€å¯¹è±¡</li>\n<li>ä¸¥æ ¼æ¨¡å¼ä¸‹å‡½æ•°å†…çš„ this æŒ‡å‘<code>undefined</code></li>\n</ul>\n</li>\n<li>éšå¼ç»‘å®š\n<ul>\n<li>æ ‡å‡†å‡½æ•°ä¸­ï¼Œthis å¼•ç”¨çš„æ˜¯æŠŠå‡½æ•°å½“æˆæ–¹æ³•è°ƒç”¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡</li>\n<li>å¦‚ <code>obj.foo()</code>çš„è°ƒç”¨æ–¹å¼, foo å†…çš„ this æŒ‡å‘ obj</li>\n</ul>\n</li>\n<li>æ˜¾ç¤ºç»‘å®š\n<ul>\n<li>é€šè¿‡ <code>call</code> æˆ–è€… <code>apply</code> æ–¹æ³•ç›´æ¥æŒ‡å®š this çš„ç»‘å®šå¯¹è±¡, å¦‚<code>foo.call(obj)</code></li>\n</ul>\n</li>\n<li>ç®­å¤´å‡½æ•°ä¸­ï¼Œthis å¼•ç”¨çš„æ˜¯å®šä¹‰ç®­å¤´å‡½æ•°çš„ä¸Šä¸‹æ–‡\n<ul>\n<li>åœ¨äº‹ä»¶å›è°ƒæˆ–å®šæ—¶å›è°ƒä¸­è°ƒç”¨æŸä¸ªå‡½æ•°æ—¶\n<ul>\n<li><img src="https://cdn.jsdelivr.net/gh/jenniferwonder/bimg/programming/1fc4c4837ed533b9b66067107fee23b3.png" alt="image"></li>\n<li>`setTimeout(() =console.log(this.royaltyName), 1000);</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>new æ„é€ å‡½æ•°ç»‘å®šï¼Œthis æŒ‡å‘æ–°ç”Ÿæˆçš„å¯¹è±¡<br>\nğŸ“Œ: JS::JS-Function<br>\nğŸ·ï¸: JS-Function</li>\n</ol>\n\x3c!--ID: 1708065505751--\x3e\n<hr>\n<h4 id="2-this-é¢˜ç›®-1">2. this é¢˜ç›® 1<a class="anchor" href="#2-this-é¢˜ç›®-1"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">use strict;</span></span>\n<span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">; </span><span style="color:#6A737D">// varå®šä¹‰çš„aå˜é‡æŒ‚è½½åˆ°windowå¯¹è±¡ä¸Š</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> foo</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(this1, </span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// undefined</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(window.a); </span><span style="color:#6A737D">// 10</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.a); </span><span style="color:#6A737D">//  æŠ¥é”™ï¼ŒUncaught TypeError: Cannot read properties of undefined (reading \'a\')</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(this2, </span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// window</span></span>\n<span class="line"><span style="color:#B392F0">foo</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"></span></code></pre>\n<p>æ³¨æ„ï¼šå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ï¼Œåªæ˜¯ä½¿å¾—å‡½æ•°å†…çš„ this æŒ‡å‘<code>undefined</code>ï¼Œå®ƒå¹¶ä¸ä¼šæ”¹å˜å…¨å±€ä¸­ this çš„æŒ‡å‘ã€‚å› æ­¤<code>this1</code>ä¸­æ‰“å°çš„æ˜¯<code>undefined</code>ï¼Œè€Œ<code>this2</code>è¿˜æ˜¯<code>window</code>å¯¹è±¡ã€‚</p>\n<h4 id="3-this-é¢˜ç›®-2">3. this é¢˜ç›® 2<a class="anchor" href="#3-this-é¢˜ç›®-2"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">let</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> b</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> foo</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.a); </span><span style="color:#6A737D">// undefined</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.b); </span><span style="color:#6A737D">// undefined</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#B392F0">foo</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(window.a); </span><span style="color:#6A737D">// undefined</span></span>\n<span class="line"><span style="color:#E1E4E8">å¤åˆ¶ä»£ç ;</span></span>\n<span class="line"></span></code></pre>\n<p>å¦‚æœæŠŠ var æ”¹æˆäº† let æˆ– constï¼Œå˜é‡æ˜¯ä¸ä¼šè¢«ç»‘å®šåˆ° window ä¸Šçš„ï¼Œæ‰€ä»¥æ­¤æ—¶ä¼šæ‰“å°å‡ºä¸‰ä¸ª undefined</p>\n<h4 id="4-this-é¢˜ç›®-3">4. this é¢˜ç›® 3<a class="anchor" href="#4-this-é¢˜ç›®-3"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> foo</span><span style="color:#E1E4E8">() {</span></span>\n<span class="line"><span style="color:#F97583">\tvar</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// window</span></span>\n<span class="line"><span style="color:#E1E4E8">\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.a); </span><span style="color:#6A737D">// 1</span></span>\n<span class="line"><span style="color:#E1E4E8">}</span></span>\n<span class="line"><span style="color:#B392F0">foo</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"></span></code></pre>\n<p>foo()å‡½æ•°å†…çš„ this æŒ‡å‘çš„æ˜¯ windowï¼Œå› ä¸ºæ˜¯ window è°ƒç”¨çš„ fooï¼Œæ‰“å°å‡ºçš„<code>this.a</code>æ˜¯ window ä¸‹çš„<code>a</code></p>\n<h4 id="5-this-é¢˜ç›®-4">5. this é¢˜ç›® 4<a class="anchor" href="#5-this-é¢˜ç›®-4"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> obj2 </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\ta: </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">,</span></span>\n<span class="line"><span style="color:#B392F0">\tfoo1</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.a); </span><span style="color:#6A737D">// 2</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#B392F0">\tfoo2</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#B392F0">\t\tsetTimeout</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// window</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.a); </span><span style="color:#6A737D">// 3</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t}, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 3</span><span style="color:#E1E4E8">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8">obj2.</span><span style="color:#B392F0">foo1</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#E1E4E8">obj2.</span><span style="color:#B392F0">foo2</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"></span></code></pre>\n<p>å¯¹äº<code>setTimeout</code>ä¸­çš„å‡½æ•°ï¼Œè¿™é‡Œå­˜åœ¨éšå¼ç»‘å®šçš„ this ä¸¢å¤±ï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æ—¶,ä¼šè¢«éšå¼èµ‹å€¼ï¼Œå›è°ƒå‡½æ•°ä¸¢å¤± this ç»‘å®šï¼Œå› æ­¤è¿™æ—¶å€™ setTimeout ä¸­å‡½æ•°å†…çš„ this æ˜¯æŒ‡å‘<code>window</code></p>\n<h4 id="6-this-é¢˜ç›®-5">6. this é¢˜ç›® 5<a class="anchor" href="#6-this-é¢˜ç›®-5"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4>\n<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> obj </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\tname: obj,</span></span>\n<span class="line"><span style="color:#B392F0">\tfoo1</span><span style="color:#E1E4E8">: () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.name); </span><span style="color:#6A737D">// window</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#B392F0">\tfoo2</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> () {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.name); </span><span style="color:#6A737D">// obj</span></span>\n<span class="line"><span style="color:#F97583">\t\treturn</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t\tconsole.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.name); </span><span style="color:#6A737D">// obj</span></span>\n<span class="line"><span style="color:#E1E4E8">\t\t};</span></span>\n<span class="line"><span style="color:#E1E4E8">\t},</span></span>\n<span class="line"><span style="color:#E1E4E8">};</span></span>\n<span class="line"><span style="color:#F97583">var</span><span style="color:#E1E4E8"> name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> window;</span></span>\n<span class="line"><span style="color:#E1E4E8">obj.</span><span style="color:#B392F0">foo1</span><span style="color:#E1E4E8">();</span></span>\n<span class="line"><span style="color:#E1E4E8">obj.</span><span style="color:#B392F0">foo2</span><span style="color:#E1E4E8">()();</span></span>\n<span class="line"></span></code></pre>\n<p>è¿™é“é¢˜éå¸¸ç»å…¸ï¼Œå®ƒè¯æ˜äº†<strong>ç®­å¤´å‡½æ•°å†…çš„ this æ˜¯ç”±å¤–å±‚ä½œç”¨åŸŸå†³å®šçš„</strong></p>\n<h5 id="61-é¢˜ç›®-5-è§£æ">6.1. é¢˜ç›® 5 è§£æï¼š<a class="anchor" href="#61-é¢˜ç›®-5-è§£æ"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5>\n<p>1ï¼‰å¯¹äº<code>obj.foo1()</code>å‡½æ•°çš„è°ƒç”¨ï¼Œå®ƒçš„å¤–å±‚ä½œç”¨åŸŸæ˜¯ windowï¼Œå¯¹è±¡ obj å½“ç„¶ä¸å±äºä½œç”¨åŸŸäº†(ä½œç”¨åŸŸåªæœ‰å…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸ)ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º<code>window</code><br>\n2ï¼‰<code>obj.foo2()()</code>ï¼Œé¦–å…ˆä¼šæ‰§è¡Œ<code>obj.foo2()</code>ï¼Œè¿™ä¸æ˜¯ä¸ªç®­å¤´å‡½æ•°ï¼Œæ‰€ä»¥å®ƒé‡Œé¢çš„ this æ˜¯è°ƒç”¨å®ƒçš„ obj å¯¹è±¡ï¼Œå› æ­¤ç¬¬äºŒä¸ªæ‰“å°ä¸º<code>obj</code>ï¼Œè€Œè¿”å›çš„åŒ¿åå‡½æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œ<strong>å®ƒçš„ this ç”±å¤–å±‚ä½œç”¨åŸŸå†³å®š</strong>ï¼Œé‚£ä¹Ÿå°±æ˜¯å®ƒçš„ this ä¼šå’Œ foo2 å‡½æ•°é‡Œçš„ this ä¸€æ ·ï¼Œç¬¬ä¸‰ä¸ªæ‰“å°ä¹Ÿæ˜¯<code>obj</code></p>\n<h2 id="reference">Reference<a class="anchor" href="#reference"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2>\n<ul>\n<li>[JavaScript åŸºç¡€å¿ƒæ³•â€”â€”this](<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faxuebin%2Farticles%2Fissues%2F6">https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faxuebin%2Farticles%2Fissues%2F6</a> <a href="https://github.com/axuebin/articles/issues/6">https://github.com/axuebin/articles/issues/6</a>)</li>\n<li>[é¢è¯•å®˜é—®ï¼šJS çš„ this æŒ‡å‘](<a href="https://juejin.cn/post/6844903746984476686">https://juejin.cn/post/6844903746984476686</a> <a href="https://juejin.cn/post/6844903746984476686">https://juejin.cn/post/6844903746984476686</a>)</li>\n<li>[JavaScript æ·±å…¥ä¹‹ä» ECMAScript è§„èŒƒè§£è¯» this](<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmqyqingfeng%2FBlog%2Fissues%2F7">https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmqyqingfeng%2FBlog%2Fissues%2F7</a> <a href="https://github.com/mqyqingfeng/Blog/issues/7">https://github.com/mqyqingfeng/Blog/issues/7</a>)</li>\n<li>[å‰ç«¯åŸºç¡€è¿›é˜¶ï¼ˆä¸ƒï¼‰ï¼šå…¨æ–¹ä½è§£è¯» this](<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2Fd647aa6d1ae6">https://link.juejin.cn?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2Fd647aa6d1ae6</a> <a href="https://www.jianshu.com/p/d647aa6d1ae6">https://www.jianshu.com/p/d647aa6d1ae6</a>)</li>\n<li>[å†æ¥ 40 é“ this é¢è¯•é¢˜é…¸çˆ½ç»§ç»­(1.2w å­—ç”¨æ‰‹æ•´ç†)](<a href="https://juejin.cn/post/6844904083707396109">https://juejin.cn/post/6844904083707396109</a> <a href="https://juejin.cn/post/6844904083707396109">https://juejin.cn/post/6844904083707396109</a>)</li>\n</ul>',frontmatter={aliases:["this in JS Functions "],title:"this in JS Functions ",topic:["Function"],type:"D",tags:["JavaScript"],DateStarted:"2024-02-16T00:00:00.000Z",DateModified:"2024-04-18T00:00:00.000Z",Datereviewed:"2024-02-16T00:00:00.000Z",reviewed:1,difficulty:null,status:null,comment:null,category:"Programming","linter-yaml-title-alias":"this in JS Functions ",minutes:4,words:773},file="E:/SynologyDrive/Codespace/blog-site/mynote/my-fuwari-blog/src/content/posts/js/function/this-in-js-function.md",url=void 0;function rawContent(){return"\n# this in JS Functions \n---\n\nBasic\n\n### `this` çš„ 5 ç§ç»‘å®šæ–¹å¼\n\nBack:\n\n1. é»˜è®¤ç»‘å®š\n   - éä¸¥æ ¼æ¨¡å¼ä¸‹ this æŒ‡å‘å…¨å±€å¯¹è±¡\n   - ä¸¥æ ¼æ¨¡å¼ä¸‹å‡½æ•°å†…çš„ this æŒ‡å‘`undefined`\n2. éšå¼ç»‘å®š\n   - æ ‡å‡†å‡½æ•°ä¸­ï¼Œthis å¼•ç”¨çš„æ˜¯æŠŠå‡½æ•°å½“æˆæ–¹æ³•è°ƒç”¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡\n   - å¦‚ `obj.foo()`çš„è°ƒç”¨æ–¹å¼, foo å†…çš„ this æŒ‡å‘ obj\n3. æ˜¾ç¤ºç»‘å®š\n   - é€šè¿‡ `call` æˆ–è€… `apply` æ–¹æ³•ç›´æ¥æŒ‡å®š this çš„ç»‘å®šå¯¹è±¡, å¦‚`foo.call(obj)`\n4. ç®­å¤´å‡½æ•°ä¸­ï¼Œthis å¼•ç”¨çš„æ˜¯å®šä¹‰ç®­å¤´å‡½æ•°çš„ä¸Šä¸‹æ–‡\n   - åœ¨äº‹ä»¶å›è°ƒæˆ–å®šæ—¶å›è°ƒä¸­è°ƒç”¨æŸä¸ªå‡½æ•°æ—¶\n     - ![image](https://cdn.jsdelivr.net/gh/jenniferwonder/bimg/programming/1fc4c4837ed533b9b66067107fee23b3.png)\n     - `setTimeout(() =console.log(this.royaltyName), 1000);\n5. new æ„é€ å‡½æ•°ç»‘å®šï¼Œthis æŒ‡å‘æ–°ç”Ÿæˆçš„å¯¹è±¡  \nğŸ“Œ: JS::JS-Function  \nğŸ·ï¸: JS-Function\n\x3c!--ID: 1708065505751--\x3e\n\n---\n\n#### 2. this é¢˜ç›® 1\n\n```javascript\nuse strict;\nvar a = 10; // varå®šä¹‰çš„aå˜é‡æŒ‚è½½åˆ°windowå¯¹è±¡ä¸Š\nfunction foo() {\n\tconsole.log(this1, this); // undefined\n\tconsole.log(window.a); // 10\n\tconsole.log(this.a); //  æŠ¥é”™ï¼ŒUncaught TypeError: Cannot read properties of undefined (reading 'a')\n}\nconsole.log(this2, this); // window\nfoo();\n```\n\næ³¨æ„ï¼šå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ï¼Œåªæ˜¯ä½¿å¾—å‡½æ•°å†…çš„ this æŒ‡å‘`undefined`ï¼Œå®ƒå¹¶ä¸ä¼šæ”¹å˜å…¨å±€ä¸­ this çš„æŒ‡å‘ã€‚å› æ­¤`this1`ä¸­æ‰“å°çš„æ˜¯`undefined`ï¼Œè€Œ`this2`è¿˜æ˜¯`window`å¯¹è±¡ã€‚\n\n#### 3. this é¢˜ç›® 2\n\n```javascript\nlet a = 10;\nconst b = 20;\nfunction foo() {\n\tconsole.log(this.a); // undefined\n\tconsole.log(this.b); // undefined\n}\nfoo();\nconsole.log(window.a); // undefined\nå¤åˆ¶ä»£ç ;\n```\n\nå¦‚æœæŠŠ var æ”¹æˆäº† let æˆ– constï¼Œå˜é‡æ˜¯ä¸ä¼šè¢«ç»‘å®šåˆ° window ä¸Šçš„ï¼Œæ‰€ä»¥æ­¤æ—¶ä¼šæ‰“å°å‡ºä¸‰ä¸ª undefined\n\n#### 4. this é¢˜ç›® 3\n\n```javascript\nvar a = 1;\nfunction foo() {\n\tvar a = 2;\n\tconsole.log(this); // window\n\tconsole.log(this.a); // 1\n}\nfoo();\n```\n\nfoo()å‡½æ•°å†…çš„ this æŒ‡å‘çš„æ˜¯ windowï¼Œå› ä¸ºæ˜¯ window è°ƒç”¨çš„ fooï¼Œæ‰“å°å‡ºçš„`this.a`æ˜¯ window ä¸‹çš„`a`\n\n#### 5. this é¢˜ç›® 4\n\n```javascript\nvar obj2 = {\n\ta: 2,\n\tfoo1: function () {\n\t\tconsole.log(this.a); // 2\n\t},\n\tfoo2: function () {\n\t\tsetTimeout(function () {\n\t\t\tconsole.log(this); // window\n\t\t\tconsole.log(this.a); // 3\n\t\t}, 0);\n\t},\n};\nvar a = 3;\n\nobj2.foo1();\nobj2.foo2();\n```\n\nå¯¹äº`setTimeout`ä¸­çš„å‡½æ•°ï¼Œè¿™é‡Œå­˜åœ¨éšå¼ç»‘å®šçš„ this ä¸¢å¤±ï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æ—¶,ä¼šè¢«éšå¼èµ‹å€¼ï¼Œå›è°ƒå‡½æ•°ä¸¢å¤± this ç»‘å®šï¼Œå› æ­¤è¿™æ—¶å€™ setTimeout ä¸­å‡½æ•°å†…çš„ this æ˜¯æŒ‡å‘`window`\n\n#### 6. this é¢˜ç›® 5\n\n```javascript\nvar obj = {\n\tname: obj,\n\tfoo1: () => {\n\t\tconsole.log(this.name); // window\n\t},\n\tfoo2: function () {\n\t\tconsole.log(this.name); // obj\n\t\treturn () => {\n\t\t\tconsole.log(this.name); // obj\n\t\t};\n\t},\n};\nvar name = window;\nobj.foo1();\nobj.foo2()();\n```\n\nè¿™é“é¢˜éå¸¸ç»å…¸ï¼Œå®ƒè¯æ˜äº†**ç®­å¤´å‡½æ•°å†…çš„ this æ˜¯ç”±å¤–å±‚ä½œç”¨åŸŸå†³å®šçš„**\n\n##### 6.1. é¢˜ç›® 5 è§£æï¼š\n\n1ï¼‰å¯¹äº`obj.foo1()`å‡½æ•°çš„è°ƒç”¨ï¼Œå®ƒçš„å¤–å±‚ä½œç”¨åŸŸæ˜¯ windowï¼Œå¯¹è±¡ obj å½“ç„¶ä¸å±äºä½œç”¨åŸŸäº†(ä½œç”¨åŸŸåªæœ‰å…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸ)ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º`window`  \n2ï¼‰`obj.foo2()()`ï¼Œé¦–å…ˆä¼šæ‰§è¡Œ`obj.foo2()`ï¼Œè¿™ä¸æ˜¯ä¸ªç®­å¤´å‡½æ•°ï¼Œæ‰€ä»¥å®ƒé‡Œé¢çš„ this æ˜¯è°ƒç”¨å®ƒçš„ obj å¯¹è±¡ï¼Œå› æ­¤ç¬¬äºŒä¸ªæ‰“å°ä¸º`obj`ï¼Œè€Œè¿”å›çš„åŒ¿åå‡½æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œ**å®ƒçš„ this ç”±å¤–å±‚ä½œç”¨åŸŸå†³å®š**ï¼Œé‚£ä¹Ÿå°±æ˜¯å®ƒçš„ this ä¼šå’Œ foo2 å‡½æ•°é‡Œçš„ this ä¸€æ ·ï¼Œç¬¬ä¸‰ä¸ªæ‰“å°ä¹Ÿæ˜¯`obj`\n\n## Reference\n\n- [JavaScript åŸºç¡€å¿ƒæ³•â€”â€”this](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faxuebin%2Farticles%2Fissues%2F6 https://github.com/axuebin/articles/issues/6)\n- [é¢è¯•å®˜é—®ï¼šJS çš„ this æŒ‡å‘](https://juejin.cn/post/6844903746984476686 https://juejin.cn/post/6844903746984476686)\n- [JavaScript æ·±å…¥ä¹‹ä» ECMAScript è§„èŒƒè§£è¯» this](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmqyqingfeng%2FBlog%2Fissues%2F7 https://github.com/mqyqingfeng/Blog/issues/7)\n- [å‰ç«¯åŸºç¡€è¿›é˜¶ï¼ˆä¸ƒï¼‰ï¼šå…¨æ–¹ä½è§£è¯» this](https://link.juejin.cn?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2Fd647aa6d1ae6 https://www.jianshu.com/p/d647aa6d1ae6)\n- [å†æ¥ 40 é“ this é¢è¯•é¢˜é…¸çˆ½ç»§ç»­(1.2w å­—ç”¨æ‰‹æ•´ç†)](https://juejin.cn/post/6844904083707396109 https://juejin.cn/post/6844904083707396109)\n"}function compiledContent(){return html}function getHeadings(){return[{depth:1,slug:"this-in-js-functions",text:"this in JS Functions#"},{depth:3,slug:"this-çš„-5-ç§ç»‘å®šæ–¹å¼",text:"this çš„ 5 ç§ç»‘å®šæ–¹å¼#"},{depth:4,slug:"2-this-é¢˜ç›®-1",text:"2. this é¢˜ç›® 1#"},{depth:4,slug:"3-this-é¢˜ç›®-2",text:"3. this é¢˜ç›® 2#"},{depth:4,slug:"4-this-é¢˜ç›®-3",text:"4. this é¢˜ç›® 3#"},{depth:4,slug:"5-this-é¢˜ç›®-4",text:"5. this é¢˜ç›® 4#"},{depth:4,slug:"6-this-é¢˜ç›®-5",text:"6. this é¢˜ç›® 5#"},{depth:5,slug:"61-é¢˜ç›®-5-è§£æ",text:"6.1. é¢˜ç›® 5 è§£æï¼š#"},{depth:2,slug:"reference",text:"Reference#"}]}const Content=createComponent(((s,n,o)=>{const{layout:a,...t}=frontmatter;return t.file=file,t.url=url,renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`}));export{Content,compiledContent,Content as default,file,frontmatter,getHeadings,rawContent,url};